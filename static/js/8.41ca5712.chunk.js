(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[8],{65:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),r=function(){return(r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=function(e){return{loading:void 0===e||null===e,value:e}},l=function(e){var t=e?e():void 0,a=Object(n.useReducer)((function(e,t){switch(t.type){case"error":return r({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return r({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),o(t)),l=a[0],c=a[1];return{error:l.error,loading:l.loading,reset:function(){var t=e?e():void 0;c({type:"reset",defaultValue:t})},setError:function(e){c({type:"error",error:e})},setValue:function(e){c({type:"value",value:e})},value:l.value}},c=function(e){var t=l((function(){return e.currentUser})),a=t.error,r=t.loading,o=t.setError,c=t.setValue,s=t.value;return Object(n.useEffect)((function(){var t=e.onAuthStateChanged(c,o);return function(){t()}}),[e]),[s,r,a]}},73:function(e,t,a){"use strict";var n=a(1),r=a.n(n);a(74);t.a=function(e){var t=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"submit",className:"form__button"},r.a.createElement("span",null,t)))}},74:function(e,t,a){},91:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a(5),o=a(29),l=a(1),c=a.n(l),s=a(21),u=a(65),i=a(6),m=a(15),f=a(11),g=a(35),b=a(73),d=(a(91),function(e){var t=e.user,a=e.form,n=e.errors,r=e.signOut,o=e.loginFacebook,l=e.loginGoogle,s=e.onChange,u=e.onSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"login"},c.a.createElement("form",{className:"login__form",onSubmit:u},c.a.createElement("span",{className:"formError"},n.formError&&n.formError),c.a.createElement(g.a,{labelText:"email :",value:a.email,onChange:s,name:"email"}),c.a.createElement(g.a,{labelText:"password :",value:a.password,onChange:s,name:"password"}),c.a.createElement(b.a,{text:"Log in"})),c.a.createElement("div",{className:"login__buttons"},c.a.createElement("div",{className:"login__buttons__header "},c.a.createElement("span",{className:"line"}),c.a.createElement("span",null,"Or connect with"),c.a.createElement("span",{className:"line"})),c.a.createElement("div",{className:"login__icons"},c.a.createElement("div",{className:"login__icons__icon  flex-c"},c.a.createElement("span",{className:"icon-google google "}),t?c.a.createElement("div",{className:"login__buttons__button google",role:"button",tabIndex:"0",onClick:r},"Sign out"):c.a.createElement("div",{className:"login__buttons__button google",role:"button",tabIndex:"0",onClick:l},"Google")),c.a.createElement("div",{className:"login__icons__icon flex-c"},c.a.createElement("span",{className:"icon-facebook-squared facebook "}),t?c.a.createElement("div",{className:"login__buttons__button facebook",role:"button",tabIndex:"0",onClick:r},"Sign out"):c.a.createElement("div",{className:"login__buttons__button facebook",role:"button",tabIndex:"0",onClick:o},"Facebook"))))),c.a.createElement("footer",{className:"footer"},"New?",c.a.createElement(f.b,{to:"register",className:"footer__link"},"Sign up for FREE!")))}),v=a(34),_={logOutUser:v.a,loginUserWithSocials:v.c,loginUserWithForm:v.b};t.default=Object(i.f)(Object(s.b)((function(e){return{user:e.user}}),_)((function(e){var t=e.user,a=e.history,s=e.loginUserWithSocials,i=e.loginUserWithForm,f=e.logOutUser,g=Object(l.useState)({email:"",password:""}),b=Object(o.a)(g,2),v=b[0],_=b[1],p=Object(u.a)(m.a),E=Object(o.a)(p,1)[0],h=Object(l.useState)({}),O=Object(o.a)(h,2),N=O[0],j=O[1];Object(l.useEffect)((function(){null!==E&&null===t&&s(E),null===E&&null===t&&i()}),[E]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"loginPage__wrapper"},c.a.createElement(d,{form:v,onChange:function(e){var t=e.target,a=t.name,o=t.value;_((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(n.a)({},a,o))}))},onSubmit:function(e){e.preventDefault(),m.c.collection("users").where("email","==",v.email).where("password","==",v.password).get().then((function(e){if(e.empty)j({formError:"We cannot find an account with that email address and password"});else{var t=e.docs[0].data();i({user:t,method:"set"}),a.push("/")}}))},user:t,loginGoogle:m.e,signOut:function(){Object(m.f)(f)},loginFacebook:m.d,errors:N})))})))}}]);
//# sourceMappingURL=8.41ca5712.chunk.js.map