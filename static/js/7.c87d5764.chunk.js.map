{"version":3,"sources":["../node_modules/react-firebase-hooks/auth/dist/index.esm.js","components/utils/index.js","components/common/SubmitButton/index.js","components/RegisterForm/RegisterForm.js","containers/RegisterPage/index.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","defaultState","defaultValue","loading","undefined","value","useLoadingValue","getDefaultValue","_a","useReducer","state","action","type","error","dispatch","reset","setError","setValue","useAuthState","auth","currentUser","useEffect","listener","onAuthStateChanged","generateID","number","text","possible","charAt","Math","floor","random","SubmitButton","className","RegisterForm","form","errors","onChange","onSubmit","TextInput","userName","name","labelText","email","password","to","mapDispatchToProps","loginUserWithSocials","userActions","loginUserWithForm","withRouter","connect","user","history","useState","setForm","setErrors","authUser","target","prevState","event","preventDefault","_error","test","toLocaleLowerCase","keys","formIsValid","uid","photo","points","firestore","collection","add","then","method","push"],"mappings":"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","file":"static/js/7.c87d5764.chunk.js","sourcesContent":["import { useReducer, useEffect } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return {\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    };\r\n});\n\nvar useAuthState = (function (auth) {\r\n    var _a = useLoadingValue(function () { return auth.currentUser; }), error = _a.error, loading = _a.loading, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    useEffect(function () {\r\n        var listener = auth.onAuthStateChanged(setValue, setError);\r\n        return function () {\r\n            listener();\r\n        };\r\n    }, [auth]);\r\n    return [value, loading, error];\r\n});\n\nexport { useAuthState };\n","/* eslint-disable import/prefer-default-export */\nexport const convertTime = (_seconds) => {\n  const minutes = Math.floor(_seconds / 60);\n\n  const seconds = _seconds - minutes * 60;\n  if (seconds > 9) return `${minutes}: ${seconds}`;\n  return `${minutes}: 0${seconds}`;\n};\n\nexport const generateID = (number = 28) => {\n  let text = '';\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < number; i += 1) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n};\n\n// const [timer, setTimer] = useState(12);\n// useEffect(() => {\n//   const interval = setInterval(() => {\n//     if (timer > 0) setTimer((timer) => timer - 1);\n//     else clearInterval(interval);\n//   }, 1000);\n\n//   return () => clearInterval(interval);\n// }, [timer]);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst SubmitButton = ({ text }) => {\n  return (\n    <>\n      <button type=\"submit\" className=\"form__button\">\n        <span>{text}</span>\n      </button>\n    </>\n  );\n};\n\nSubmitButton.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default SubmitButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport TextInput from '../common/TextInput';\nimport SubmitButton from '../common/SubmitButton';\nimport './RegisterForm.scss';\n\nconst RegisterForm = ({ form, errors, onChange, onSubmit }) => {\n  return (\n    <>\n      <div className=\"register\">\n        <header className=\"register__header\">\n          Join Now\n          <span className=\"small-dash\">â€”</span>\n          <span className=\"italic\">Free & Easy!</span>\n        </header>\n        <form className=\"register__form\" onSubmit={onSubmit}>\n          <TextInput\n            value={form.userName}\n            name=\"userName\"\n            onChange={onChange}\n            labelText=\"username :\"\n            errors={errors.userName}\n          />\n          <TextInput\n            value={form.email}\n            name=\"email\"\n            onChange={onChange}\n            labelText=\"email :\"\n            errors={errors.email}\n          />\n          <TextInput\n            value={form.password}\n            name=\"password\"\n            onChange={onChange}\n            labelText=\"password :\"\n            errors={errors.password}\n          />\n          <SubmitButton text=\"Register\" />\n        </form>\n      </div>\n      <footer className=\"footer\">\n        Have an account?\n        <Link to=\"login\" className=\"footer__link\">\n          log in here\n        </Link>\n      </footer>\n    </>\n  );\n};\n\nRegisterForm.propTypes = {\n  form: PropTypes.shape({\n    email: PropTypes.string.isRequired,\n    userName: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired,\n  }),\n  errors: PropTypes.shape({\n    email: PropTypes.string,\n    userName: PropTypes.string,\n    password: PropTypes.string,\n  }),\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default RegisterForm;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport RegisterForm from '../../components/RegisterForm/RegisterForm';\nimport { firestore, auth } from '../../firebase-config';\nimport { generateID } from '../../components/utils';\nimport * as userActions from '../../redux/actions/userActions';\n\nconst RegisterPage = ({\n  user,\n  history,\n  loginUserWithForm,\n  loginUserWithSocials,\n}) => {\n  const [form, setForm] = useState({\n    userName: '',\n    email: '',\n    password: '',\n  });\n  const [errors, setErrors] = useState({});\n  const [authUser] = useAuthState(auth);\n  useEffect(() => {\n    if (authUser !== null && user === null) {\n      loginUserWithSocials(authUser);\n    }\n    if (authUser === null && user === null) {\n      loginUserWithForm();\n    }\n  }, [authUser]);\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n\n    setForm((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const formIsValid = () => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const { userName, email, password } = form;\n    const _error = {};\n\n    if (userName.length === 0) {\n      _error.userName = 'User name is required';\n    } else if (userName.length < 3) {\n      _error.userName = 'User name has to be longer than 3 characters';\n    } else if (userName.length > 10) {\n      _error.userName = 'User name has to be shorter than 10 characters';\n    }\n\n    if (email.length === 0) {\n      _error.email = 'Email is required';\n    } else if (!re.test(email.toLocaleLowerCase())) {\n      _error.email = 'Please enter a valid email address.';\n    }\n    if (password.length === 0) {\n      _error.password = 'Password is required';\n    } else if (password.length < 3) {\n      _error.password = 'Password has to be longer than 3 characters';\n    } else if (password.length > 10) {\n      _error.password = 'Password has to be shorter than 10 characters';\n    }\n\n    setErrors(_error);\n\n    return Object.keys(_error).length === 0;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!formIsValid()) return;\n\n    const uid = generateID();\n    const photo =\n      'https://betacssjs.chesscomfiles.com/bundles/web/images/white_400.09ae248e.png';\n    const { userName, email, password } = form;\n    const user = {\n      email,\n      password,\n      uid,\n      userName,\n      photo,\n      points: 500,\n    };\n    const usersRef = firestore.collection('users');\n    usersRef.add(user).then(() => {\n      loginUserWithForm({ user, method: 'set' });\n    });\n\n    setForm({\n      userName: '',\n      email: '',\n      password: '',\n    });\n    history.push('/');\n  };\n\n  return (\n    <>\n      <div className=\"registerPage__wrapper\">\n        <RegisterForm\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n          form={form}\n          errors={errors}\n        />\n      </div>\n    </>\n  );\n};\nfunction mapStateToProps({ user }) {\n  return {\n    user,\n  };\n}\n\nconst mapDispatchToProps = {\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n};\n\nRegisterPage.propTypes = {\n  user: PropTypes.shape({\n    userName: PropTypes.string,\n    photo: PropTypes.string,\n    uid: PropTypes.string,\n    points: PropTypes.number,\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }),\n  loginUserWithForm: PropTypes.func.isRequired,\n  loginUserWithSocials: PropTypes.func.isRequired,\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(RegisterPage)\n);\n"],"sourceRoot":""}