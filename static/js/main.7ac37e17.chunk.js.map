{"version":3,"sources":["assets/img/logo.png","containers/utils/gameUtils/onlineGameUtils.js","components/GameBoard/index.js","containers/Game/index.js","firebase-config.js","containers/utils/gameUtils/commonGameUtils.js","containers/utils/utils.js","containers/OnlineGame/index.js","containers/OnlineGamePage/index.js","components/BoardMoves/index.js","components/ChatMessages/ChatMessage.js","components/EmptyChat/index.js","components/ChatMessages/index.js","containers/LocalChat/index.js","containers/ScoreBoard/index.js","redux/actions/actionTypes.js","redux/actions/boardActions.js","redux/actions/userActions.js","containers/utils/loginUitls.js","components/ConfigForm/index.js","containers/ConfigBoard/index.js","containers/HomePage/index.js","components/TextInput/index.js","components/SubmitButton/index.js","components/LoginForm/LoginForm.js","containers/LoginPage/index.js","containers/RegisterPage/index.js","components/RegisterForm/RegisterForm.js","containers/utils/gameUtils/computerGameUtils.js","containers/ComputerGamePage/index.js","components/FloatedButton/ChatMessage.js","components/FloatedButton/index.js","containers/GlobalChat/index.js","components/Navigation/index.js","containers/Navbar/index.js","redux/reducers/initialState.js","redux/reducers/index.js","redux/reducers/boardReducer.js","redux/reducers/userReducer.js","index.js","redux/store.js"],"names":["module","exports","figurePlayer","token","p1_token","p2_token","domain","window","location","origin","process","GameBoard","songRef","links","adress","removeLink","user","whiteTime","blackTime","playerNum","className","userName","id","target","rel","href","secondPlayer","role","tabIndex","onClick","ref","src","type","propType","PropTypes","object","isRequired","number","bool","shape","points","string","photo","$","jQuery","Game","timeLeft","firstPlayer","convertTime","time","minutes","Math","floor","seconds","css","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","loginGoogle","signInWithPopup","loginFacebook","signOutUser","logOutUser","signOut","then","removeDotSquares","removeClass","dotSquare","square","addClass","allowMove","turn","piece","search","makeDots","game","moves","verbose","length","i","to","statusText","isMyTurn","draw","check","checkmate","repetition","insufficientMaterial","stalemate","move","generateID","text","possible","charAt","random","unsubscribe","board","withRouter","boardType","updateMoves","updateStatusText","props","useState","Chess","gameEngine","match","params","state","setState","useRef","useEffect","cb","engine","load","fen","position","config","pieceTheme","draggable","onDragStart","game_over","onDrop","source","from","promotion","chessRef","collection","doc","update","whiteSan","san","blackSan","onSnapEnd","current","play","onMouseoutSquare","onMouseoverSquare","Chessboard","orientation","$board","squares","resize","initBoard","updateBoard","moveIndex","prevState","in_draw","in_check","in_checkmate","in_threefold_repetition","insufficient_material","in_stalemate","updateState","forEach","name","where","onSnapshot","querySnapshot","size","docs","map","data","BoardMoves","reverse","key","ChatMessage","message","uid","photoURL","messageClass","alt","EmptyChat","ChatMessages","forwardRef","lastMessageRef","messages","sendMessage","formValue","handleChange","msg","onSubmit","value","onChange","placeholder","aria-label","connect","loginUser","setFormValue","useAuthState","docId","setDocId","setMessages","rest","deleteFirstItem","e","a","preventDefault","innerWidth","scrollIntoView","behavior","ScoreBoard","isOnline","types","logIn","email","password","getUserFromFirestore","localStorage","setItem","loginUserWithForm","_user","dispatch","loginUserWithSocials","canLogInWithSocials","authUser","displayName","add","register","canLoginWithForm","JSON","parse","getItem","mapDispatchToProps","boardActions","userActions","boardInfo","OnlineGame","ConfigForm","changeBoard","changePiece","changeMode","createGame","mode","history","activeButton","newGame","push","catch","err","defaultBoardSettings","updateConfig","chessBoard","TextInput","errors","labelText","placeHolder","htmlFor","SubmitButton","LoginForm","form","formError","saveUserWithForm","stringify","setForm","setErrors","event","userRef","empty","RegisterForm","_error","test","toLocaleLowerCase","Object","keys","formIsValid","usersRef","find","getPieceValue","j","tableFromType","p","n","b","r","q","k","evaluation","color","minimax","depth","isMaxPlayer","alpha","beta","possibilities","boardEval","evaluateBoard","bestScore","Infinity","max","undo","min","currentStatusText","index","gameMove","setGameMove","updateStatus","statusGame","makeEngineMove","bestMove","_moves","newMove","score","minimaxRoot","setTimeout","userUID","FloatedButton","formMessage","viewBox","height","width","d","fillRule","stroke","setFormMessage","messageRef","orderBy","firstMessage","deleteFirstMessage","ListenForUpdates","delete","attr","toggleClass","createdAt","FieldValue","serverTimestamp","Navbar","aria-hidden","logo","menuButton","navbar","hasClass","rootReducer","combineReducers","initialState","action","slice","store","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","configureStore","ReactDOM","render","StrictMode","basename","exact","path","component","HomePage","LoginPage","RegisterPage","ComputerGamePage","OnlineGamePage","PageNotFound","document","getElementById"],"mappings":"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","file":"static/js/main.7ac37e17.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","/* eslint-disable camelcase */\nexport function figurePlayer(token, { p1_token, p2_token }) {\n  if (token === p1_token) {\n    return 1;\n  }\n  if (token === p2_token) {\n    return 2;\n  }\n  return 0;\n}\n\n// export function Turn(playerNum, isMyTurn) {\n//   if (playerNum > 0) {\n//     if (isMyTurn) {\n//       return 'Your Turn';\n//     }\n//     return \"Waiting for opponent's move...\";\n//   }\n//   return 'View Only';\n// }\n\nexport const domain = () => {\n  if (window.location) {\n    return `${window.location.origin}${process.env.PUBLIC_URL}`;\n  }\n  return window.location;\n};\n","/* eslint-disable camelcase */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst GameBoard = ({\n  songRef,\n  links,\n  adress,\n  removeLink,\n  user,\n  whiteTime,\n  blackTime,\n  playerNum,\n}) => {\n  return (\n    <>\n      <div className=\"game\">\n        <div className=\"userInformations\">\n          <div className=\"userWrapper\">\n            <span className=\"playerName\">{user?.userName ?? 'Guest 120'}</span>\n            <span className=\"points\">(500)</span>\n          </div>\n          <div className=\"timer\">{playerNum === 2 ? whiteTime : blackTime}</div>\n        </div>\n        <div id=\"board\" className=\"board\" />\n        <div className=\"userInformations\">\n          <div className=\"userWrapper\">\n            <span className=\"playerName\">{user?.userName ?? 'Guest 152'}</span>\n            <span className=\"points\">(500)</span>\n          </div>\n          <div className=\"timer\">{playerNum === 1 ? whiteTime : blackTime}</div>\n        </div>\n        {links === true && (\n          <div className=\"links\">\n            <h3 className=\"links__header\">Second player Link</h3>\n            <div className=\"links__link\">\n              <a target=\"_blank\" rel=\"noreferrer\" href={adress.secondPlayer}>\n                {adress.secondPlayer}\n              </a>\n            </div>\n            <div\n              className=\"closeButton\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={removeLink}\n            >\n              X\n            </div>\n          </div>\n        )}\n      </div>\n\n      <audio id=\"myAudio\" ref={songRef}>\n        <source\n          src=\"https://images.chesscomfiles.com/chess-themes/sounds/_WEBM_/default/game-start.webm\"\n          type=\"audio/webm\"\n        />\n        <source\n          src=\"https://images.chesscomfiles.com/chess-themes/sounds/_OGG_/default/game-start.ogg\"\n          type=\"audio/ogg\"\n        />\n        <source\n          src=\"https://images.chesscomfiles.com/chess-themes/sounds/_MP3_/default/game-start.mp3\"\n          type=\"audio/mpeg\"\n        />\n        <source\n          src=\"https://images.chesscomfiles.com/chess-themes/sounds/_WAV_/default/game-start.wav\"\n          type=\"audio/wav\"\n        />\n      </audio>\n    </>\n  );\n};\n\nGameBoard.propType = {\n  songRef: PropTypes.object.isRequired,\n  p1_token: PropTypes.number.isRequired,\n  p2_token: PropTypes.number.isRequired,\n  links: PropTypes.bool.isRequired,\n  user: PropTypes.shape({\n    points: PropTypes.number,\n    userName: PropTypes.string,\n    photo: PropTypes.string,\n  }),\n};\n\n// songRef, p1_token, p2_token, links, user\nexport default GameBoard;\n","/* eslint-disable camelcase */\nimport React from 'react';\nimport { domain } from '../utils/gameUtils/onlineGameUtils';\nimport GameBoard from '../../components/GameBoard';\n\nconst $ = window.jQuery;\nconst Game = ({\n  songRef,\n  p1_token,\n  p2_token,\n  links,\n  user,\n  timeLeft,\n  playerNum,\n}) => {\n  const adress = {\n    firstPlayer: `${domain()}/play/${p1_token}`,\n    secondPlayer: `${domain()}/play/${p2_token}`,\n  };\n  const removeLink = () => {\n    $('.links').css('display', 'none');\n  };\n\n  function convertTime(time = 300) {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time - minutes * 60);\n\n    return `${minutes}: ${seconds < 10 ? `0${seconds}` : seconds}`;\n  }\n  return (\n    <>\n      <GameBoard\n        whiteTime={convertTime(timeLeft?.whiteTime)}\n        blackTime={convertTime(timeLeft?.blackTime)}\n        adress={adress}\n        removeLink={removeLink}\n        songRef={songRef}\n        links={links}\n        user={user}\n        playerNum={playerNum}\n      />\n    </>\n  );\n};\n\nexport default Game;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCWNcsnLzCTiD2ckKYjPFOOnSU_am3IOBc',\n  authDomain: 'chess-website-b9199.firebaseapp.com',\n  projectId: 'chess-website-b9199',\n  storageBucket: 'chess-website-b9199.appspot.com',\n  messagingSenderId: '223317395203',\n  appId: '1:223317395203:web:d81cf77519987424260b36',\n  measurementId: 'G-XJQS56VDHX',\n};\n\nfirebase.initializeApp(firebaseConfig);\nconst firestore = firebase.firestore();\nconst auth = firebase.auth();\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\nconst facebookProvider = new firebase.auth.FacebookAuthProvider();\n\nconst loginGoogle = () => {\n  auth.signInWithPopup(googleProvider);\n};\n\nconst loginFacebook = () => {\n  auth.signInWithPopup(facebookProvider);\n};\nconst signOutUser = (logOutUser) => {\n  auth.signOut().then(() => logOutUser());\n};\n\nexport {\n  firestore,\n  auth,\n  googleProvider,\n  facebookProvider,\n  firebase,\n  loginGoogle,\n  loginFacebook,\n  signOutUser,\n};\n","const $ = window.jQuery;\n\nexport function removeDotSquares() {\n  $('#board .square-55d63').removeClass('square');\n}\n\nexport function dotSquare(square) {\n  const $square = $(`#board .square-${square}`);\n\n  $square.addClass('square');\n}\n\nexport function onMouseoutSquare() {\n  removeDotSquares();\n}\n\nexport function allowMove(turn, piece) {\n  return (\n    !(turn === 'w' && piece.search(/^b/) !== -1) ||\n    (turn === 'b' && piece.search(/^w/) !== -1)\n  );\n}\n\nexport function makeDots(game, square) {\n  const moves = game.moves({\n    square,\n    verbose: true,\n  });\n\n  if (moves.length === 0) return;\n\n  for (let i = 0; i < moves.length; i += 1) {\n    dotSquare(moves[i].to);\n  }\n}\n\nexport function statusText(\n  turn,\n  playerNum,\n  isMyTurn,\n  draw,\n  check,\n  checkmate,\n  repetition,\n  insufficientMaterial,\n  stalemate\n) {\n  const move = turn === 'b' ? 'Black' : 'White';\n  if (stalemate) {\n    return 'draw by stalemate';\n  }\n  if (repetition) {\n    return `draw by repetition`;\n  }\n  if (insufficientMaterial) {\n    return 'draw by insufficient material';\n  }\n  if (draw) {\n    return `draw position`;\n  }\n  if (checkmate) {\n    return `${move} in checkmate, gameover`;\n  }\n  if (check) {\n    return `${move} in check`;\n  }\n  if (playerNum > 0) {\n    if (isMyTurn) {\n      return 'Your Turn';\n    }\n    return \"Opponent's move\";\n  }\n  return 'View Only';\n}\n\nexport function isMyTurn(playerNum, turn) {\n  return (playerNum === 1 && turn === 'w') || (playerNum === 2 && turn === 'b');\n}\n","/* eslint-disable import/prefer-default-export */\nexport const convertTime = (_seconds) => {\n  const minutes = Math.floor(_seconds / 60);\n\n  const seconds = _seconds - minutes * 60;\n  if (seconds > 9) return `${minutes}: ${seconds}`;\n  return `${minutes}: 0${seconds}`;\n};\n\nexport const generateID = (number = 28) => {\n  let text = '';\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < number; i += 1) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n};\n\n// const [timer, setTimer] = useState(12);\n// useEffect(() => {\n//   const interval = setInterval(() => {\n//     if (timer > 0) setTimer((timer) => timer - 1);\n//     else clearInterval(interval);\n//   }, 1000);\n\n//   return () => clearInterval(interval);\n// }, [timer]);\n","/* eslint-disable no-use-before-define */\nimport React, { useEffect, useRef, useState } from 'react';\nimport Chess from 'chess.js/chess';\nimport Chessboard from '@chrisoakman/chessboardjs/dist/chessboard-1.0.0';\nimport { withRouter } from 'react-router-dom';\nimport Game from '../Game';\nimport { firestore } from '../../firebase-config';\nimport { figurePlayer } from '../utils/gameUtils/onlineGameUtils';\nimport {\n  removeDotSquares,\n  allowMove,\n  makeDots,\n  statusText,\n  isMyTurn,\n} from '../utils/gameUtils/commonGameUtils';\nimport { generateID } from '../utils/utils';\n\nconst $ = window.jQuery;\n\nconst INITIAL_FEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR';\nlet unsubscribe = null;\nlet board = null;\n\nfunction ChessGame({\n  boardType,\n  piece,\n  user,\n  updateMoves,\n  updateStatusText,\n  ...props\n}) {\n  const [gameEngine] = useState(new Chess());\n  const [state, setState] = useState({\n    token: props.match.params.token,\n  });\n\n  const songRef = useRef(null);\n\n  // useEffect(() => {\n  //   const timer = setInterval(() => {\n  //     setTimeLeft();\n  //   }, 1000);\n\n  //   return () => clearInterval(timer);\n  // });\n\n  function setTimeLeft() {\n    const chessRef = firestore.collection('games').doc(state.id);\n    const { timeLeft } = state;\n\n    if (gameEngine.turn() === 'w') {\n      chessRef.update({\n        timeLeft: {\n          ...timeLeft,\n          whiteTime: timeLeft.whiteTime - 1,\n        },\n      });\n    } else {\n      chessRef.update({\n        timeLeft: {\n          ...timeLeft,\n          blackTime: timeLeft.blackTime - 1,\n        },\n      });\n    }\n  }\n  useEffect(() => {\n    // console.log(state);\n  }, [state]);\n  useEffect(() => {\n    ListenForUpdates(state.token, (id, game) => {\n      updateBoard(id, game);\n      updateState(id, game);\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  useEffect(() => {\n    updateStatusText(state.statusText);\n  }, [state.statusText]);\n  useEffect(() => {\n    const { whiteSan, blackSan } = state;\n    if (whiteSan || blackSan) {\n      updateMoves({\n        whiteSan,\n        blackSan,\n        id: generateID(5),\n        moveIndex: state.moveIndex ?? 1,\n      });\n    }\n    const chessRef = firestore.collection('games').doc(state.id);\n    if (state.whiteSan && state.blackSan) {\n      chessRef.update({\n        whiteSan: '',\n        blackSan: '',\n        moveIndex: state.moveIndex + 1,\n      });\n    }\n  }, [state.whiteSan, state.blackSan]);\n\n  function updateState(\n    id,\n    { p1_token, p2_token, whiteSan, blackSan, timeLeft, moveIndex }\n  ) {\n    const playerNum = figurePlayer(state.token, { p1_token, p2_token });\n    setState((prevState) => ({\n      ...prevState,\n      timeLeft,\n      id,\n      moveIndex,\n      p1_token,\n      p2_token,\n      whiteSan,\n      blackSan,\n      statusText: statusText(\n        gameEngine.turn(),\n        playerNum,\n        isMyTurn(playerNum, gameEngine.turn()),\n        gameEngine.in_draw(),\n        gameEngine.in_check(),\n        gameEngine.in_checkmate(),\n        gameEngine.in_threefold_repetition(),\n        gameEngine.insufficient_material(),\n        gameEngine.in_stalemate()\n      ),\n    }));\n  }\n\n  function updateBoard(id, game) {\n    const engine = gameEngine;\n    const playerNum = figurePlayer(state.token, game);\n    engine.load(game.fen || INITIAL_FEN);\n\n    if (!board) {\n      board = initBoard(id, game);\n      board.position(engine.fen());\n    } else if (isMyTurn(playerNum, engine.turn())) {\n      board.position(engine.fen());\n    }\n  }\n  function initBoard(id, game) {\n    const engine = gameEngine;\n    const playerNum = figurePlayer(state.token, game);\n    const config = {\n      pieceTheme: `${process.env.PUBLIC_URL}/img/chesspieces/${piece}/{piece}.png`,\n      draggable: true,\n      position: 'start',\n      onDragStart,\n      onDrop,\n      onSnapEnd,\n      onMouseoutSquare: removeDotSquares,\n      onMouseoverSquare,\n    };\n\n    board = Chessboard('board', config);\n    if (playerNum === 2) {\n      board.orientation('black');\n    }\n\n    const $board = $('.chessboard-63f37');\n    const squares = $('.square-55d63');\n\n    if (boardType === 'wooden') {\n      $board.addClass('woodenBoard');\n      squares.addClass('transparent');\n    } else if (board === 'classic') {\n      $board.removeClass('woodenBoard');\n      squares.removeClass('transparent');\n    }\n\n    $(window).resize(board.resize);\n\n    return board;\n\n    function onMouseoverSquare(square) {\n      const canIMove = isMyTurn(playerNum, engine.turn());\n\n      if (canIMove) {\n        makeDots(gameEngine, square);\n      }\n    }\n\n    function onDragStart(square, piece) {\n      makeDots(gameEngine, square);\n      const img = $(`img[data-piece=\"${piece}\"]`);\n      img.addClass('z-index');\n      return (\n        !engine.game_over() &&\n        isMyTurn(playerNum, engine.turn()) &&\n        allowMove(engine.turn(), piece)\n      );\n    }\n\n    function onDrop(source, target, piece) {\n      const img = $(`img[data-piece=\"${piece}\"]`);\n      img.removeClass('z-index');\n      removeDotSquares();\n      const move = gameEngine.move({\n        from: source,\n        to: target,\n        promotion: 'q',\n      });\n      if (move === null) return 'snapback';\n      const chessRef = firestore.collection('games').doc(id);\n      if (playerNum === 1) {\n        chessRef.update({\n          fen: engine.fen(),\n          whiteSan: move.san,\n        });\n      } else if (playerNum === 2) {\n        chessRef.update({\n          fen: engine.fen(),\n          blackSan: move.san,\n        });\n      }\n    }\n    function onSnapEnd() {\n      songRef.current.play();\n      return board.position(engine.fen());\n    }\n  }\n  function ListenForUpdates(token, cb) {\n    ['p1_token', 'p2_token'].forEach((name) => {\n      const chessRef = firestore.collection('games').where(name, '==', token);\n      unsubscribe = chessRef.onSnapshot((querySnapshot) => {\n        if (querySnapshot.size) {\n          const [data] = querySnapshot.docs.map((doc) => {\n            return {\n              data: doc.data(),\n              id: doc.id,\n            };\n          });\n          cb(data.id, data.data);\n        }\n      });\n    });\n  }\n  return (\n    <>\n      <Game\n        timeLeft={state.timeLeft}\n        links\n        songRef={songRef}\n        p1_token={state.p1_token}\n        p2_token={state.p2_token}\n        user={user}\n        playerNum={figurePlayer(state.token, state)}\n      />\n    </>\n  );\n}\n\nexport default withRouter(ChessGame);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport OnlineGame from '../OnlineGame';\nimport ScoreBoard from '../ScoreBoard';\nimport * as boardActions from '../../redux/actions/boardActions';\nimport * as userActions from '../../redux/actions/userActions';\nimport { canLogInWithSocials, canLoginWithForm } from '../utils/loginUitls';\nimport { auth } from '../../firebase-config';\n\nlet unsubscribe;\nconst OnlineGamePage = ({\n  user,\n  moves,\n  statusText,\n  piece,\n  board,\n  updateMoves,\n  updateStatusText,\n  loginUserWithSocials,\n  loginUserWithForm,\n}) => {\n  const [authUser] = useAuthState(auth);\n  useEffect(() => {\n    unsubscribe = canLogInWithSocials(authUser, user, loginUserWithSocials);\n\n    canLoginWithForm(authUser, user, loginUserWithForm);\n\n    return () => unsubscribe && unsubscribe();\n  }, [authUser]);\n\n  return (\n    <>\n      <div className=\"page__wrapper\">\n        <OnlineGame\n          user={user}\n          piece={piece}\n          boardType={board}\n          updateMoves={updateMoves}\n          updateStatusText={updateStatusText}\n        />\n        <ScoreBoard isOnline moves={moves} statusText={statusText} />\n      </div>\n    </>\n  );\n};\nfunction mapStateToProps(state) {\n  const { moves, statusText, piece, board } = state.boardInfo;\n  return {\n    moves,\n    statusText,\n    piece,\n    board,\n    user: state.user ?? null,\n  };\n}\n\nconst mapDispatchToProps = {\n  updateMoves: boardActions.updateMoves,\n  updateStatusText: boardActions.updateStatusText,\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OnlineGamePage);\n","import React from 'react';\nimport './index.scss';\n\nconst BoardMoves = ({ moves }) => {\n  return (\n    <>\n      <ul className=\"moves\">\n        {[...moves].reverse().map((move) => {\n          const { whiteSan, blackSan, moveIndex } = move;\n          return (\n            <li className=\"moves__item\" key={move.id}>\n              <span className=\"index\">{moveIndex}</span>\n              <span className=\"san\">{whiteSan}</span>\n              <span className=\"san\">{blackSan}</span>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\nexport default BoardMoves;\n","import React from 'react';\n\nconst ChatMessage = (props) => {\n  const { uid, message, photoURL } = props.message;\n  const userUID = props.user.uid;\n\n  const messageClass = uid === userUID ? 'sent' : 'received';\n  return (\n    <>\n      <div className=\"message\">\n        <div className={`message ${messageClass}`}>\n          <div className={`userMessage ${messageClass}`}>{message}</div>\n          <img src={photoURL} alt=\"userPhoto\" />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ChatMessage;\n","import React from 'react';\nimport './index.scss';\n\nconst EmptyChat = ({ loginGoogle, loginFacebook }) => {\n  return (\n    <>\n      <div className=\"emptyChat\">\n        <h4>Login to use this chat</h4>\n        <div className=\"emptyChat__icons  flex-c\">\n          <span className=\"icon-google google \" />\n          <div\n            className=\"login__buttons__button google\"\n            role=\"button\"\n            tabIndex=\"0\"\n            onClick={loginGoogle}\n          >\n            Google\n          </div>\n        </div>\n        <div className=\"emptyChat__icons flex-c\">\n          <span className=\"icon-facebook-squared facebook \" />\n          <div\n            className=\"login__buttons__button facebook\"\n            role=\"button\"\n            tabIndex=\"0\"\n            onClick={loginFacebook}\n          >\n            Facebook\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default EmptyChat;\n","import React, { forwardRef } from 'react';\nimport ChatMessage from './ChatMessage';\nimport EmptyChat from '../EmptyChat';\nimport './index.scss';\n\nconst ChatMessages = forwardRef(\n  (\n    {\n      messages,\n      sendMessage,\n      formValue,\n      handleChange,\n      user,\n      loginGoogle,\n      loginFacebook,\n    },\n    lastMessageRef\n  ) => {\n    return (\n      <>\n        <div className=\"scoreBoard__info__chat\">\n          <div className=\"scoreBoard__info__header\">Chat</div>\n          <div className=\"scoreBoard__info__options\">\n            <div className=\"chat\">\n              <div className=\"windowChat\">\n                {messages.map((msg) => {\n                  return (\n                    <ChatMessage\n                      key={msg.id}\n                      user={user}\n                      message={msg}\n                      uid={msg.uid}\n                    />\n                  );\n                })}\n\n                <span ref={lastMessageRef} />\n              </div>\n              <div className=\"chatMessage\">\n                <form onSubmit={sendMessage}>\n                  <input\n                    type=\"text\"\n                    value={formValue}\n                    onChange={handleChange}\n                    placeholder=\"Aa\"\n                  />\n                  <button type=\"submit\">\n                    <span role=\"img\" aria-label=\"icon\">\n                      \n                    </span>\n                  </button>\n                </form>\n              </div>\n              {!user && (\n                <EmptyChat\n                  loginGoogle={loginGoogle}\n                  loginFacebook={loginFacebook}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n);\n\nexport default ChatMessages;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport {\n  firestore,\n  auth,\n  loginGoogle,\n  loginFacebook,\n} from '../../firebase-config';\nimport { generateID } from '../utils/utils';\nimport ChatMessages from '../../components/ChatMessages';\n\nlet unsubscribe = null;\nconst LocalChat = ({ loginUser, ...props }) => {\n  const [formValue, setFormValue] = useState('');\n  const [user] = useAuthState(auth);\n  const lastMessageRef = useRef(null);\n  const [docId, setDocId] = useState('');\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    ListenForUpdates(props.match.params.token);\n\n    return () => unsubscribe && unsubscribe();\n  }, []);\n\n  function ListenForUpdates(token) {\n    ['p1_token', 'p2_token'].forEach((name) => {\n      const chessRef = firestore.collection('games').where(name, '==', token);\n      unsubscribe = chessRef.onSnapshot((querySnapshot) => {\n        if (querySnapshot.size) {\n          const [data] = querySnapshot.docs.map((doc) => {\n            return {\n              data: doc.data(),\n              id: doc.id,\n            };\n          });\n          const { messages } = data.data;\n          const { id } = data;\n          // its for keep only 14 messages in chat\n          if (messages && messages.length > 14) deleteFirstItem(id, messages);\n          setMessages(messages ?? []);\n          setDocId(id);\n        }\n      });\n    });\n  }\n\n  function deleteFirstItem(docId, messages) {\n    const chessRef = firestore.collection('games').doc(docId);\n    const [, ...rest] = messages;\n    chessRef.update({\n      messages: rest,\n    });\n  }\n  const sendMessage = async (e) => {\n    e.preventDefault();\n    if (formValue === '' || !user) return;\n    const { uid, photoURL } = user;\n    const chessRef = firestore.collection('games').doc(docId);\n    chessRef\n      .update({\n        messages: [\n          ...messages,\n          {\n            message: formValue,\n            uid,\n            photoURL,\n            id: generateID(6),\n          },\n        ],\n      })\n      .then(() => {\n        setFormValue('');\n        if (window.innerWidth < 1000)\n          lastMessageRef.current.scrollIntoView({ behavior: 'smooth' });\n      });\n  };\n\n  const handleChange = (e) => {\n    setFormValue(e.target.value);\n  };\n\n  return (\n    <>\n      <ChatMessages\n        messages={messages}\n        ref={lastMessageRef}\n        sendMessage={sendMessage}\n        user={user}\n        formValue={formValue}\n        handleChange={handleChange}\n        loginGoogle={loginGoogle}\n        loginFacebook={loginFacebook}\n      />\n    </>\n  );\n};\n\nconst mapDisptachToProps = {\n  // loginUser: userActions.loginUser,\n};\nexport default withRouter(connect(null, mapDisptachToProps)(LocalChat));\n","import React from 'react';\nimport BoardMoves from '../../components/BoardMoves';\nimport LocalChat from '../LocalChat';\nimport './index.scss';\n\nconst ScoreBoard = ({ moves, statusText, isOnline }) => {\n  return (\n    <>\n      <div className=\"scoreBoard\">\n        <div className=\"scoreBoard__wrapper\">\n          <div className=\"scoreBoard__header flex-c\">\n            {statusText === '' ? 'Your turn' : statusText}\n          </div>\n          <div className=\"scoreBoard__info\">\n            <div className=\"scoreBoard__info__moves\">\n              <div className=\"scoreBoard__info__header\">Last Moves</div>\n              <div className=\"scoreBoard__info__options\">\n                {moves.length === 0 ? (\n                  <div className=\"dots\">\n                    <span className=\"dot\">.</span>\n                    <span className=\"dot\">.</span>\n                    <span className=\"dot\">.</span>\n                  </div>\n                ) : (\n                  <BoardMoves moves={moves} />\n                )}\n              </div>\n              {isOnline && <LocalChat />}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ScoreBoard;\n","export default {\n  CHANGE_BOARD: 'CHANGE_BOARD',\n  CHANGE_PIECE: 'CHANGE_PIECE',\n  CHANGE_MODE: 'CHANGE_MODE',\n  LOGIN_USER: 'LOGIN_USER_SUCCESS',\n  LOG_OUT: 'LOG_OUT',\n  UPDATE_MOVES: 'UPDATE_MOVES',\n  STATUS_TEXT: 'STATUS_TEXT',\n  DEFAULT_BOARD_SETTINGS: 'DEFAULT_BOARD_SETTINGS',\n};\n","import types from './actionTypes';\n\nexport function changeBoard(board) {\n  return { type: types.CHANGE_BOARD, board };\n}\nexport function changePiece(piece) {\n  return { type: types.CHANGE_PIECE, piece };\n}\nexport function changeMode(mode) {\n  return { type: types.CHANGE_MODE, mode };\n}\n\nexport function updateMoves(move) {\n  return { type: types.UPDATE_MOVES, move };\n}\nexport function updateStatusText(statusText) {\n  return { type: types.STATUS_TEXT, statusText };\n}\n\nexport function defaultBoardSettings() {\n  return { type: types.DEFAULT_BOARD_SETTINGS };\n}\n\n// setState({\n//   ...state,\n//   board: target.name,\n// });\n","/* eslint-disable no-alert */\nimport types from './actionTypes';\n\nexport function logIn({ userName, photo, uid, points, email, password }) {\n  return {\n    type: types.LOGIN_USER,\n    userName,\n    photo,\n    uid,\n    points,\n    email,\n    password,\n  };\n}\n\nasync function getUserFromFirestore(docs) {\n  const {\n    uid,\n    points,\n    userName,\n    photo,\n    email,\n    password,\n  } = await docs[0].data();\n  return {\n    uid,\n    points,\n    userName,\n    photo,\n    email,\n    password,\n  };\n}\n\nexport function logOutUser() {\n  localStorage.setItem('user', null);\n  return { type: types.LOG_OUT };\n}\n\nexport function saveUserWithForm({ docs }) {\n  return async (dispatch) => {\n    const _user = await getUserFromFirestore(docs);\n    localStorage.setItem('user', JSON.stringify(_user));\n    dispatch(logIn(_user));\n  };\n}\n\nexport function loginUserWithForm(_user) {\n  return (dispatch) => {\n    dispatch(logIn(_user));\n  };\n}\n\nexport function loginUserWithSocials({ docs }) {\n  return async (dispatch) => {\n    const _user = await getUserFromFirestore(docs);\n\n    dispatch(logIn(_user));\n  };\n}\n","import { firestore } from '../../firebase-config';\n\nfunction canLogInWithSocials(authUser, user, loginUserWithSocials) {\n  if (authUser !== null && user === null) {\n    const userRef = firestore\n      .collection('users')\n      .where('uid', '==', authUser.uid);\n\n    return userRef.onSnapshot((docs) => {\n      if (docs.size === 1) {\n        loginUserWithSocials(docs);\n      } else {\n        register(authUser);\n      }\n    });\n  }\n}\n\nfunction canLoginWithForm(authUser, user, loginUserWithForm) {\n  if (authUser === null && user === null) {\n    const _user = JSON.parse(localStorage.getItem('user'));\n    if (_user) loginUserWithForm(_user);\n  }\n}\n\nfunction register(authUser) {\n  const { photoURL, displayName, uid } = authUser;\n  firestore.collection('users').add({\n    uid,\n    points: 500,\n    userName: displayName,\n    photo: photoURL,\n  });\n}\nexport { canLogInWithSocials, canLoginWithForm };\n","import React from 'react';\nimport './index.scss';\n\nconst ConfigForm = ({ changeBoard, changePiece, changeMode, createGame }) => {\n  return (\n    <>\n      <div className=\"configBoard\">\n        <div className=\"configBoard__wrapper\">\n          <div className=\"configBoard__header flex-c\">Play Chess</div>\n          <div className=\"configBoard__config\">\n            <div className=\"configBoard__config__board\">\n              <div className=\"config__header\">Your Board</div>\n              <div className=\"configBoard__options\">\n                <button\n                  type=\"button\"\n                  name=\"wooden\"\n                  className=\"configBoard__options__btn configBoard__options__btn--active board__btn\"\n                  onClick={changeBoard}\n                >\n                  Wooden\n                </button>\n                <button\n                  type=\"button\"\n                  name=\"classic\"\n                  className=\"configBoard__options__btn board__btn\"\n                  onClick={changeBoard}\n                >\n                  Classic\n                </button>\n              </div>\n            </div>\n            <div className=\"configBoard__config__pieces\">\n              <div className=\"config__header\">Your Pieces</div>\n              <div className=\"configBoard__options\">\n                <button\n                  type=\"button\"\n                  name=\"neo_wood\"\n                  className=\"configBoard__options__btn--small configBoard__options__btn--active piece__btn\"\n                  onClick={changePiece}\n                >\n                  Neo wood\n                </button>\n                <button\n                  type=\"button\"\n                  name=\"alpha\"\n                  className=\"configBoard__options__btn configBoard__options__btn piece__btn\"\n                  onClick={changePiece}\n                >\n                  Alpha\n                </button>\n                <button\n                  name=\"uscf\"\n                  onClick={changePiece}\n                  type=\"button\"\n                  className=\"configBoard__options__btn piece__btn\"\n                >\n                  USCF\n                </button>\n                <button\n                  name=\"classic\"\n                  onClick={changePiece}\n                  type=\"button\"\n                  className=\"configBoard__options__btn piece__btn\"\n                >\n                  Classic\n                </button>\n              </div>\n            </div>\n            <div className=\"mode\">\n              <div className=\"config__header\">Mode</div>\n              <div className=\"configBoard__options\">\n                <button\n                  onClick={changeMode}\n                  type=\"button\"\n                  className=\"configBoard__options__btn--big configBoard__options__btn--active mode__btn\"\n                  name=\"computer\"\n                >\n                  with computer\n                </button>\n                <button\n                  onClick={changeMode}\n                  type=\"button\"\n                  className=\"configBoard__options__btn--big mode__btn\"\n                  name=\"online\"\n                >\n                  with friend\n                </button>\n              </div>\n            </div>\n            <div className=\"findGame flex-c\">\n              <button\n                type=\"button\"\n                className=\"findGame__button\"\n                onClick={createGame}\n              >\n                Find game\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ConfigForm;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { generateID } from '../utils/utils';\nimport { firestore } from '../../firebase-config';\nimport ConfigForm from '../../components/ConfigForm';\n\nconst $ = window.jQuery;\n\nconst ConfigBoard = ({ board, piece, mode, history, ...props }) => {\n  const changeBoard = ({ target }) => {\n    const buttons = $('.board__btn');\n    const activeButton = target;\n    buttons.removeClass('configBoard__options__btn--active');\n    $(activeButton).addClass('configBoard__options__btn--active');\n\n    const board = target.name;\n    props.changeBoard(board);\n  };\n\n  const changePiece = ({ target }) => {\n    const buttons = $('.piece__btn');\n    const activeButton = target;\n    buttons.removeClass('configBoard__options__btn--active');\n    $(activeButton).addClass('configBoard__options__btn--active');\n\n    props.changePiece(target.name);\n  };\n  const changeMode = ({ target }) => {\n    const buttons = $('.mode__btn');\n    const activeButton = target;\n    buttons.removeClass('configBoard__options__btn--active');\n    $(activeButton).addClass('configBoard__options__btn--active');\n    props.changeMode(target.name);\n  };\n\n  const createGame = () => {\n    const newGame = {\n      p1_token: generateID(8),\n      p2_token: generateID(8),\n      moveIndex: 1,\n      timeLeft: {\n        whiteTime: 300,\n        blackTime: 300,\n      },\n    };\n\n    if (mode === 'online') {\n      const gamesRef = firestore.collection('games');\n      gamesRef\n        .add(newGame)\n        .then(() => history.push(`./play/${newGame.p1_token}`))\n        .catch((err) => {\n          throw err;\n        });\n    } else if (mode === 'computer') {\n      history.push(`./play/computer`);\n    }\n  };\n\n  return (\n    <>\n      <ConfigForm\n        changeBoard={changeBoard}\n        changePiece={changePiece}\n        changeMode={changeMode}\n        createGame={createGame}\n      />\n    </>\n  );\n};\n\nexport default withRouter(ConfigBoard);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Chessboard from '@chrisoakman/chessboardjs/dist/chessboard-1.0.0';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport ConfigBoard from '../ConfigBoard';\nimport * as boardActions from '../../redux/actions/boardActions';\nimport { auth } from '../../firebase-config';\nimport GameBoard from '../../components/GameBoard';\nimport * as userActions from '../../redux/actions/userActions';\nimport { canLogInWithSocials, canLoginWithForm } from '../utils/loginUitls';\n\nconst $ = window.jQuery;\nlet unsubscribe = null;\nconst HomePage = ({\n  user,\n  board,\n  piece,\n  mode,\n  changeBoard,\n  changePiece,\n  changeMode,\n  defaultBoardSettings,\n  loginUserWithSocials,\n  loginUserWithForm,\n}) => {\n  const [authUser] = useAuthState(auth);\n  useEffect(() => {\n    unsubscribe = canLogInWithSocials(authUser, user, loginUserWithSocials);\n\n    canLoginWithForm(authUser, user, loginUserWithForm);\n\n    return () => unsubscribe && unsubscribe();\n  }, [authUser]);\n\n  useEffect(() => {\n    updateConfig();\n  }, [board, piece]);\n  useEffect(() => {\n    defaultBoardSettings();\n  }, []);\n  const updateConfig = () => {\n    const config = {\n      pieceTheme: `${process.env.PUBLIC_URL}/img/chesspieces/${piece}/{piece}.png`,\n      position: 'start',\n    };\n    // eslint-disable-next-line no-unused-vars\n    const chessBoard = Chessboard('board', config);\n\n    const $board = $('.chessboard-63f37');\n    const squares = $('.square-55d63');\n\n    if (board === 'wooden') {\n      $board.addClass('woodenBoard');\n      squares.addClass('transparent');\n    } else if (board === 'classic') {\n      $board.removeClass('woodenBoard');\n      squares.removeClass('transparent');\n    }\n\n    $(window).resize(chessBoard.resize);\n  };\n  return (\n    <>\n      <div className=\"page__wrapper\">\n        <GameBoard />\n        <ConfigBoard\n          board={board}\n          piece={piece}\n          mode={mode}\n          changeBoard={changeBoard}\n          changePiece={changePiece}\n          changeMode={changeMode}\n        />\n      </div>\n    </>\n  );\n};\n\nfunction mapStateToProps(state) {\n  const { boardInfo } = state;\n  const { user } = state;\n\n  return {\n    board: boardInfo.board,\n    piece: boardInfo.piece,\n    mode: boardInfo.mode,\n    user,\n  };\n}\n\nconst mapDispatchToProps = {\n  changeBoard: boardActions.changeBoard,\n  changePiece: boardActions.changePiece,\n  changeMode: boardActions.changeMode,\n  logIn: userActions.logIn,\n  defaultBoardSettings: boardActions.defaultBoardSettings,\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\n","import React from 'react';\nimport './index.scss';\n\nconst TextInput = ({\n  value,\n  errors,\n  name,\n  labelText,\n  placeHolder,\n  onChange,\n}) => {\n  return (\n    <div className=\"form__item\">\n      <label className=\"form__item__header\" htmlFor={name}>\n        {labelText}\n      </label>\n      <input\n        type=\"text\"\n        id={name}\n        value={value}\n        onChange={onChange}\n        name={name}\n        className=\"form__item__input\"\n        placeholder={placeHolder}\n      />\n      {errors && <span className=\"form__item__error\">{errors}</span>}\n    </div>\n  );\n};\n\nexport default TextInput;\n","import React from 'react';\n\nimport './index.scss';\n\nconst SubmitButton = ({ text }) => {\n  return (\n    <>\n      <button type=\"submit\" className=\"form__button\">\n        <span>{text}</span>\n      </button>\n    </>\n  );\n};\n\nexport default SubmitButton;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport TextInput from '../TextInput';\nimport SubmitButton from '../SubmitButton';\nimport './LoginForm.scss';\n\nconst LoginForm = ({\n  user,\n  errors,\n  loginGoogle,\n  signOut,\n  loginFacebook,\n  onChange,\n  form,\n  onSubmit,\n}) => {\n  return (\n    <>\n      <div className=\"login\">\n        <form className=\"login__form\" onSubmit={onSubmit}>\n          <span className=\"formError\">\n            {errors.formError && errors.formError}\n          </span>\n          <TextInput\n            labelText=\"email :\"\n            value={form.email}\n            onChange={onChange}\n            name=\"email\"\n          />\n          <TextInput\n            labelText=\"password :\"\n            value={form.password}\n            onChange={onChange}\n            name=\"password\"\n          />\n          <SubmitButton text=\"Log in\" />\n        </form>\n        <div className=\"login__buttons\">\n          <div className=\"login__buttons__header \">\n            <span className=\"line\" />\n            <span>Or connect with</span>\n            <span className=\"line\" />\n          </div>\n          <div className=\"login__icons\">\n            <div className=\"login__icons__icon  flex-c\">\n              <span className=\"icon-google google \" />\n              {user ? (\n                <div\n                  className=\"login__buttons__button google\"\n                  role=\"button\"\n                  tabIndex=\"0\"\n                  onClick={signOut}\n                >\n                  Sign out\n                </div>\n              ) : (\n                <div\n                  className=\"login__buttons__button google\"\n                  role=\"button\"\n                  tabIndex=\"0\"\n                  onClick={loginGoogle}\n                >\n                  Google\n                </div>\n              )}\n            </div>\n            <div className=\"login__icons__icon flex-c\">\n              <span className=\"icon-facebook-squared facebook \" />\n              {user ? (\n                <div\n                  className=\"login__buttons__button facebook\"\n                  role=\"button\"\n                  tabIndex=\"0\"\n                  onClick={signOut}\n                >\n                  Sign out\n                </div>\n              ) : (\n                <div\n                  className=\"login__buttons__button facebook\"\n                  role=\"button\"\n                  tabIndex=\"0\"\n                  onClick={loginFacebook}\n                >\n                  Facebook\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <footer className=\"footer\">\n        New?\n        <Link to=\"register\" className=\"footer__link\">\n          Sign up for FREE!\n        </Link>\n      </footer>\n    </>\n  );\n};\n\nexport default LoginForm;\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { withRouter } from 'react-router-dom';\nimport {\n  firestore,\n  auth,\n  loginGoogle,\n  loginFacebook,\n  signOutUser,\n} from '../../firebase-config';\nimport LoginForm from '../../components/LoginForm/LoginForm';\nimport * as userActions from '../../redux/actions/userActions';\nimport { canLogInWithSocials, canLoginWithForm } from '../utils/loginUitls';\n\nlet unsubscribe = null;\nconst LoginPage = ({\n  user,\n  history,\n  loginUserWithSocials,\n  loginUserWithForm,\n  logOutUser,\n  saveUserWithForm,\n}) => {\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n  });\n  const [authUser] = useAuthState(auth);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    unsubscribe = canLogInWithSocials(authUser, user, loginUserWithSocials);\n\n    canLoginWithForm(authUser, user, loginUserWithForm);\n\n    return () => unsubscribe && unsubscribe();\n  }, [authUser]);\n\n  const signOut = () => {\n    signOutUser(logOutUser);\n  };\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n\n    setForm((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const userRef = firestore\n      .collection('users')\n      .where('email', '==', form.email)\n      .where('password', '==', form.password);\n    unsubscribe = userRef.onSnapshot((docs) => {\n      if (!docs.empty) {\n        saveUserWithForm(docs).then(() => {\n          history.push('/');\n        });\n      } else {\n        setErrors({\n          formError:\n            'We cannot find an account with that email address and password',\n        });\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"loginPage__wrapper\">\n        <LoginForm\n          form={form}\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n          user={user}\n          loginGoogle={loginGoogle}\n          signOut={signOut}\n          loginFacebook={loginFacebook}\n          errors={errors}\n        />\n      </div>\n    </>\n  );\n};\n\nconst mapDispatchToProps = {\n  logOutUser: userActions.logOutUser,\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n  saveUserWithForm: userActions.saveUserWithForm,\n};\n\nfunction mapStateToProps(state) {\n  const { user } = state;\n  return {\n    user,\n  };\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(LoginPage)\n);\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport RegisterForm from '../../components/RegisterForm/RegisterForm';\nimport { firestore, auth } from '../../firebase-config';\nimport { generateID } from '../utils/utils';\nimport * as userActions from '../../redux/actions/userActions';\nimport { canLogInWithSocials, canLoginWithForm } from '../utils/loginUitls';\n\nlet unsubscribe;\nconst RegisterPage = ({\n  user,\n  history,\n  loginUserWithForm,\n  logIn,\n  loginUserWithSocials,\n}) => {\n  const [form, setForm] = useState({\n    userName: '',\n    email: '',\n    password: '',\n  });\n  const [errors, setErrors] = useState({});\n  const [authUser] = useAuthState(auth);\n  useEffect(() => {\n    unsubscribe = canLogInWithSocials(authUser, user, loginUserWithSocials);\n\n    canLoginWithForm(authUser, user, loginUserWithForm);\n\n    return () => unsubscribe && unsubscribe();\n  }, [authUser]);\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n\n    setForm((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const formIsValid = () => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const { userName, email, password } = form;\n    const _error = {};\n\n    if (userName.length === 0) {\n      _error.userName = 'User name is required';\n    } else if (userName.length < 3) {\n      _error.userName = 'User name has to be longer than 3 characters';\n    } else if (userName.length > 10) {\n      _error.userName = 'User name has to be shorter than 10 characters';\n    }\n\n    if (email.length === 0) {\n      _error.email = 'Email is required';\n    } else if (!re.test(email.toLocaleLowerCase())) {\n      _error.email = 'Please enter a valid email address.';\n    }\n    if (password.length === 0) {\n      _error.password = 'Password is required';\n    } else if (password.length < 3) {\n      _error.password = 'Password has to be longer than 3 characters';\n    } else if (password.length > 10) {\n      _error.password = 'Password has to be shorter than 10 characters';\n    }\n\n    setErrors(_error);\n\n    return Object.keys(_error).length === 0;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!formIsValid()) return;\n\n    const uid = generateID();\n    const photo =\n      'https://betacssjs.chesscomfiles.com/bundles/web/images/white_400.09ae248e.png';\n    const { userName, email, password } = form;\n    const _user = {\n      email,\n      password,\n      uid,\n      userName,\n      photo,\n      points: 500,\n    };\n    const usersRef = firestore.collection('users');\n    usersRef.add(_user);\n    usersRef.onSnapshot((docs) => {\n      const user = docs.docs.find((doc) => doc.data().uid === uid);\n\n      logIn({\n        ..._user,\n        points: user.data().points,\n      });\n    });\n\n    setForm({\n      userName: '',\n      email: '',\n      password: '',\n    });\n    history.push('/');\n  };\n\n  return (\n    <>\n      <div className=\"registerPage__wrapper\">\n        <RegisterForm\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n          form={form}\n          errors={errors}\n        />\n      </div>\n    </>\n  );\n};\nfunction mapStateToProps({ user }) {\n  return {\n    user,\n  };\n}\n\nconst mapDispatchToProps = {\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(RegisterPage)\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport TextInput from '../TextInput';\nimport SubmitButton from '../SubmitButton';\nimport './RegisterForm.scss';\n\nconst RegisterForm = ({ form, onChange, errors, onSubmit }) => {\n  return (\n    <>\n      <div className=\"register\">\n        <header className=\"register__header\">\n          Join Now\n          <span className=\"small-dash\"></span>\n          <span className=\"italic\">Free & Easy!</span>\n        </header>\n        <form className=\"register__form\" onSubmit={onSubmit}>\n          <TextInput\n            value={form.userName}\n            name=\"userName\"\n            onChange={onChange}\n            labelText=\"username :\"\n            errors={errors.userName}\n          />\n          <TextInput\n            value={form.email}\n            name=\"email\"\n            onChange={onChange}\n            labelText=\"email :\"\n            errors={errors.email}\n          />\n          <TextInput\n            value={form.password}\n            name=\"password\"\n            onChange={onChange}\n            labelText=\"password :\"\n            errors={errors.password}\n          />\n          <SubmitButton text=\"Register\" />\n        </form>\n      </div>\n      <footer className=\"footer\">\n        Have an account?\n        <Link to=\"login\" className=\"footer__link\">\n          log in here\n        </Link>\n      </footer>\n    </>\n  );\n};\nexport default RegisterForm;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\nexport function getPieceValue(piece, i, j) {\n  const pawnEvalWhite = [\n    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],\n    [5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0, 5.0],\n    [1.0, 1.0, 2.0, 3.0, 3.0, 2.0, 1.0, 1.0],\n    [0.5, 0.5, 1.0, 2.5, 2.5, 1.0, 0.5, 0.5],\n    [0.0, 0.0, 0.0, 2.0, 2.0, 0.0, 0.0, 0.0],\n    [0.5, -0.5, -1.0, 0.0, 0.0, -1.0, -0.5, 0.5],\n    [0.5, 1.0, 1.0, -2.0, -2.0, 1.0, 1.0, 0.5],\n    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],\n  ];\n  const knightEvalWhite = [\n    [-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0],\n    [-4.0, -2.0, 0.0, 0.0, 0.0, 0.0, -2.0, -4.0],\n    [-3.0, 0.0, 1.0, 1.5, 1.5, 1.0, 0.0, -3.0],\n    [-3.0, 0.5, 1.5, 2.0, 2.0, 1.5, 0.5, -3.0],\n    [-3.0, 0.0, 1.5, 2.0, 2.0, 1.5, 0.0, -3.0],\n    [-3.0, 0.5, 1.0, 1.5, 1.5, 1.0, 0.5, -3.0],\n    [-4.0, -2.0, 0.0, 0.5, 0.5, 0.0, -2.0, -4.0],\n    [-5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0],\n  ];\n  const bishopEvalWhite = [\n    [-2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0],\n    [-1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0],\n    [-1.0, 0.0, 0.5, 1.0, 1.0, 0.5, 0.0, -1.0],\n    [-1.0, 0.5, 0.5, 1.0, 1.0, 0.5, 0.5, -1.0],\n    [-1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, -1.0],\n    [-1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0],\n    [-1.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, -1.0],\n    [-2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0],\n  ];\n  const rookEvalWhite = [\n    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],\n    [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],\n    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],\n    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],\n    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],\n    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],\n    [-0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -0.5],\n    [0.0, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0],\n  ];\n  const queenEvalWhite = [\n    [-2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0],\n    [-1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0],\n    [-1.0, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -1.0],\n    [-0.5, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -0.5],\n    [0.0, 0.0, 0.5, 0.5, 0.5, 0.5, 0.0, -0.5],\n    [-1.0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.0, -1.0],\n    [-1.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, -1.0],\n    [-2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0],\n  ];\n  const kingEvalWhite = [\n    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],\n    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],\n    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],\n    [-3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0],\n    [-2.0, -3.0, -3.0, -4.0, -4.0, -3.0, -3.0, -2.0],\n    [-1.0, -2.0, -2.0, -2.0, -2.0, -2.0, -2.0, -1.0],\n    [2.0, 2.0, 0.0, 0.0, 0.0, 0.0, 2.0, 2.0],\n    [2.0, 3.0, 1.0, 0.0, 0.0, 1.0, 3.0, 2.0],\n  ];\n  const pieceToTables = {\n    p: pawnEvalWhite,\n    n: knightEvalWhite,\n    b: bishopEvalWhite,\n    r: rookEvalWhite,\n    q: queenEvalWhite,\n    k: kingEvalWhite,\n  };\n  const pieceValues = {\n    p: 10,\n    n: 30,\n    b: 35,\n    r: 50,\n    q: 90,\n    k: 900,\n  };\n  if (piece === null) {\n    return 0;\n  }\n  const tableFromType = pieceToTables[piece.type];\n  let evaluation = pieceValues[piece.type]; // getting pieceValue\n  // adding the evaluation tables\n  if (piece.color === 'w') {\n    evaluation += tableFromType[i][j];\n  } else {\n    evaluation += tableFromType[7 - i][j];\n  }\n  return piece.color === 'w' ? evaluation : -evaluation;\n}\n\nexport function minimaxRoot(game, depth, isMaxPlayer) {\n  const moves = game.moves();\n  let bestMove;\n  const _moves = [];\n  const possibilities = moves.length;\n  let bestScore = -Infinity;\n  for (let k = 0; k < possibilities; k++) {\n    const newMove = moves[k];\n\n    _moves.push(game.move(newMove));\n    const score = minimax(game, depth - 1, !isMaxPlayer, -Infinity, Infinity);\n\n    game.undo();\n    if (score >= bestScore) {\n      bestScore = score;\n      bestMove = newMove;\n    }\n  }\n  const move = _moves.find((move) => move.san === bestMove);\n  // console.log(_moves);\n  return { bestMove, move };\n}\n\nfunction minimax(game, depth, isMaxPlayer, alpha, beta) {\n  const moves = game.moves();\n  const possibilities = moves.length;\n  if (depth === 0) {\n    return -evaluateBoard(game.board());\n  }\n  if (isMaxPlayer) {\n    let bestScore = -Infinity;\n    for (let j = 0; j < possibilities; j++) {\n      game.move(moves[j]);\n      bestScore = Math.max(\n        bestScore,\n        minimax(game, depth - 1, !isMaxPlayer, alpha, beta)\n      );\n      game.undo();\n      alpha = Math.max(alpha, bestScore);\n      if (alpha >= beta) {\n        return bestScore;\n      }\n    }\n    return bestScore;\n  }\n  let bestScore = Infinity;\n  for (let i = 0; i < possibilities; i++) {\n    game.move(moves[i]);\n    bestScore = Math.min(\n      bestScore,\n      minimax(game, depth - 1, !isMaxPlayer, alpha, beta)\n    );\n    game.undo();\n    beta = Math.min(beta, bestScore);\n    if (alpha >= beta) {\n      return bestScore;\n    }\n  }\n  return bestScore;\n}\nexport function evaluateBoard(board) {\n  let boardEval = 0;\n  // const board = game.board();\n  for (let i = 0; i < 8; i++) {\n    for (let j = 0; j < 8; j++) {\n      boardEval += getPieceValue(board[i][j], i, j);\n    }\n  }\n  return boardEval;\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport Chess from 'chess.js/chess';\nimport Chessboard from '@chrisoakman/chessboardjs/dist/chessboard-1.0.0';\nimport { connect } from 'react-redux';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport ScoreBoard from '../ScoreBoard';\nimport Game from '../Game';\nimport { auth } from '../../firebase-config';\nimport { minimaxRoot } from '../utils/gameUtils/computerGameUtils';\nimport {\n  removeDotSquares,\n  allowMove,\n  makeDots,\n  statusText,\n  isMyTurn,\n} from '../utils/gameUtils/commonGameUtils';\nimport { generateID } from '../utils/utils';\nimport * as userActions from '../../redux/actions/userActions';\nimport * as boardActions from '../../redux/actions/boardActions';\nimport { canLogInWithSocials, canLoginWithForm } from '../utils/loginUitls';\n\nconst $ = window.jQuery;\nlet board = null;\nconst game = new Chess();\nconst maxDepth = 2;\nlet unsubscribe;\n\nconst ComputerGamePage = ({\n  boardType,\n  user,\n  piece,\n  updateMoves,\n  updateStatusText,\n  moves,\n  currentStatusText,\n  loginUserWithSocials,\n  loginUserWithForm,\n}) => {\n  const [authUser] = useAuthState(auth);\n  const [gameMove, setGameMove] = useState({\n    whiteSan: '',\n    blackSan: '',\n    id: null,\n    index: 0,\n  });\n  const songRef = useRef(null);\n\n  useEffect(() => {\n    unsubscribe = canLogInWithSocials(authUser, user, loginUserWithSocials);\n\n    canLoginWithForm(authUser, user, loginUserWithForm);\n\n    return () => unsubscribe && unsubscribe();\n  }, [authUser]);\n\n  function updateStatus() {\n    const statusGame = statusText(\n      game.turn(),\n      1,\n      isMyTurn(1, game.turn()),\n      game.in_draw(),\n      game.in_check(),\n      game.in_checkmate(),\n      game.in_threefold_repetition(),\n      game.insufficient_material(),\n      game.in_stalemate()\n    );\n    updateStatusText(statusGame);\n  }\n\n  useEffect(() => {\n    const { whiteSan, blackSan, index } = gameMove;\n    if (whiteSan !== '' || blackSan !== '') {\n      updateMoves({\n        whiteSan,\n        blackSan,\n        index,\n        id: generateID(5),\n      });\n    }\n    if (whiteSan !== '' && blackSan !== '') {\n      setGameMove({\n        ...gameMove,\n        whiteSan: '',\n        blackSan: '',\n        id: null,\n      });\n    }\n  }, [gameMove]);\n  useEffect(() => {\n    songRef.current.play();\n\n    function makeEngineMove() {\n      const { bestMove, move } = minimaxRoot(game, maxDepth, true);\n\n      setGameMove((prevState) => ({\n        ...prevState,\n        blackSan: move.san,\n      }));\n      game.move(bestMove);\n      board.position(game.fen());\n      updateStatus();\n    }\n\n    function onDragStart(square, piece) {\n      makeDots(game, square);\n\n      return (\n        !game.game_over() &&\n        game.turn() === 'w' &&\n        allowMove(game.turn(), piece)\n      );\n    }\n\n    function onDrop(source, target) {\n      removeDotSquares();\n\n      const move = game.move({\n        from: source,\n        to: target,\n        promotion: 'q',\n      });\n      if (move === null) {\n        return 'snapback';\n      }\n\n      window.setTimeout(makeEngineMove, 800);\n\n      setGameMove((prevState) => ({\n        ...prevState,\n        whiteSan: move.san,\n        index: prevState.index + 1,\n      }));\n    }\n\n    function onSnapEnd() {\n      songRef.current.play();\n\n      board.position(game.fen());\n      updateStatus();\n    }\n\n    function onMouseoverSquare(square) {\n      makeDots(game, square);\n    }\n\n    const config = {\n      pieceTheme: `${process.env.PUBLIC_URL}/img/chesspieces/${piece}/{piece}.png`,\n      draggable: true,\n      position: 'start',\n      onDragStart,\n      onDrop,\n      onSnapEnd,\n      onMouseoutSquare: removeDotSquares,\n      onMouseoverSquare,\n    };\n\n    board = Chessboard('board', config);\n\n    $(window).resize(board.resize);\n\n    const $board = $('.chessboard-63f37');\n    const squares = $('.square-55d63');\n\n    if (boardType === 'wooden') {\n      $board.addClass('woodenBoard');\n      squares.addClass('transparent');\n    } else if (board === 'classic') {\n      $board.removeClass('woodenBoard');\n      squares.removeClass('transparent');\n    }\n    updateStatus();\n  }, []);\n\n  return (\n    <>\n      <div className=\"page__wrapper\">\n        <Game songRef={songRef} links={false} />\n        <ScoreBoard moves={moves} statusText={currentStatusText} />\n      </div>\n    </>\n  );\n};\n\nfunction mapStateToProps(state) {\n  const { piece, board, moves, statusText } = state.boardInfo;\n  const { user } = state;\n  return {\n    piece,\n    boardType: board,\n    user,\n    moves,\n    currentStatusText: statusText,\n  };\n}\n\nconst mapDispatchToProps = {\n  updateMoves: boardActions.updateMoves,\n  updateStatusText: boardActions.updateStatusText,\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ComputerGamePage);\n","import React from 'react';\n\nconst ChatMessage = ({ message, uid, photoURL, userUID }) => {\n  const messageClass = uid === userUID ? 'sent' : 'received';\n  return (\n    <>\n      <div className={`floated__chat__item ${messageClass}`}>\n        <div className={`floated__chat__message ${messageClass}`}>\n          <span className=\"floated__chat__userMessage\">{message}</span>\n        </div>\n        <img src={photoURL} alt=\"userPhoto\" />\n      </div>\n    </>\n  );\n};\n\nexport default ChatMessage;\n","import React, { forwardRef } from 'react';\nimport TextInput from '../TextInput';\nimport ChatMessage from './ChatMessage';\nimport EmptyChat from '../EmptyChat';\nimport './index.scss';\n\nconst FloatedButton = forwardRef(\n  (\n    {\n      messages,\n      user,\n      formMessage,\n      onClick,\n      onChange,\n      onSubmit,\n      loginGoogle,\n      loginFacebook,\n    },\n    lastMessageRef\n  ) => {\n    return (\n      <>\n        <div className=\"floated\">\n          <button type=\"button\" className=\"floatedButton\" onClick={onClick}>\n            <span className=\"floatedButton__icon\" name=\"floatedButton__icon\">\n              +\n            </span>\n          </button>\n          <div className=\"floated__chat\">\n            <h3 className=\"floated__chat__header\">Say Hello To World!</h3>\n            <ul className=\"floated__chat__list\">\n              {user ? (\n                messages.map(({ message, uid, photoURL, docId }) => (\n                  <ChatMessage\n                    message={message}\n                    uid={uid}\n                    key={docId}\n                    photoURL={photoURL}\n                    userUID={user.uid}\n                  />\n                ))\n              ) : (\n                <EmptyChat\n                  loginGoogle={loginGoogle}\n                  loginFacebook={loginFacebook}\n                />\n              )}\n              <span ref={lastMessageRef} />\n            </ul>\n            <form className=\"floated__form\" onSubmit={onSubmit}>\n              <TextInput\n                onChange={onChange}\n                value={formMessage}\n                placeHolder=\"Aa\"\n              />\n              <button type=\"submit\" className=\"floated__form__button\">\n                <svg viewBox=\"0 0 24 24\" height=\"20px\" width=\"20px\">\n                  <path\n                    d=\"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z\"\n                    fillRule=\"evenodd\"\n                    stroke=\"none\"\n                  />\n                </svg>\n                {/* <span role=\"img\" aria-label=\"icon\">\n                  \n                </span> */}\n              </button>\n            </form>\n          </div>\n        </div>\n      </>\n    );\n  }\n);\n\nexport default FloatedButton;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport FloatedButton from '../../components/FloatedButton';\nimport {\n  firestore,\n  firebase,\n  loginGoogle,\n  loginFacebook,\n} from '../../firebase-config';\n\nconst $ = window.jQuery;\n\nlet unsubscribe = null;\nconst GlobalChat = ({ user }) => {\n  const [formMessage, setFormMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const lastMessageRef = useRef(null);\n\n  useEffect(() => {\n    ListenForUpdates();\n\n    return () => unsubscribe && unsubscribe();\n  }, []);\n\n  function ListenForUpdates() {\n    const messageRef = firestore.collection('globalMessages');\n    unsubscribe = messageRef\n      .orderBy('createdAt', 'asc')\n      .onSnapshot((querySnapshot) => {\n        if (querySnapshot.size) {\n          const data = querySnapshot.docs.map((doc) => {\n            const { message, uid, photoURL } = doc.data();\n            const docId = doc.id;\n            return {\n              message,\n              uid,\n              photoURL,\n              docId,\n            };\n          });\n          const firstMessage = data[0];\n          if (data.length > 12) {\n            deleteFirstMessage(firstMessage.docId);\n            return;\n          }\n          setMessages(data);\n        }\n      });\n  }\n  const deleteFirstMessage = (id) => {\n    const messageRef = firestore.collection('globalMessages').doc(id);\n    messageRef.delete();\n  };\n  const handleClick = (e) => {\n    lastMessageRef.current.scrollIntoView({ behavior: 'smooth' });\n\n    const onIconClick = $(e.target).attr('name');\n    if (onIconClick === 'floatedButton__icon')\n      $('.floated').toggleClass('active');\n  };\n  const handleChange = (e) => {\n    setFormMessage(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (formMessage === '' || !user) return;\n    const messageRef = firestore.collection('globalMessages');\n\n    messageRef.add({\n      message: formMessage,\n      uid: user.uid,\n      photoURL: user.photo,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setFormMessage('');\n    lastMessageRef.current.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return (\n    <>\n      <FloatedButton\n        onClick={handleClick}\n        onChange={handleChange}\n        formMessage={formMessage}\n        onSubmit={handleSubmit}\n        messages={messages}\n        user={user}\n        ref={lastMessageRef}\n        loginGoogle={loginGoogle}\n        loginFacebook={loginFacebook}\n      />\n    </>\n  );\n};\nfunction mapStateToProps(state) {\n  const { user } = state;\n  return {\n    user,\n  };\n}\n\nexport default connect(mapStateToProps, null)(GlobalChat);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../../assets/img/logo.png';\n\nimport './index.scss';\n\nconst Navbar = ({ user, onClick, signOut }) => {\n  return (\n    <>\n      <div className=\"menu-btn\" role=\"button\" tabIndex=\"0\" onClick={onClick}>\n        <div className=\"menu-btn__burger\" />\n      </div>\n      <div className=\"menu__socials\">\n        <span className=\"icon-home icon\" />\n        <span className=\"icon-twitter-squared icon\" />\n        <span className=\"icon-facebook-squared icon\" />\n        <span className=\"icon-cog icon\" />\n      </div>\n      <div className=\"navbar\" aria-hidden=\"true\">\n        <div className=\"navbar__menu \">\n          <img src={logo} className=\"menu__logo\" alt=\"logo\" />\n          <div className=\"navbar__menu__item\">\n            <span className=\"icon-home icon\" />\n            <Link to=\"/\">Home</Link>\n          </div>\n          <div className=\"navbar__menu__item\">\n            <span className=\"icon-gamepad icon\" />\n            <Link to=\"/\">Play</Link>\n          </div>\n          <div className=\"navbar__menu__item \">\n            <span className=\"icon-puzzle icon\" />\n            <Link to=\"/\">Puzzles</Link>\n          </div>\n          <div className=\"navbar__menu__item\">\n            <span className=\"icon-graduation-cap icon\" />\n            <Link to=\"/\">Learn</Link>\n          </div>\n          <div className=\"navbar__menu__item\">\n            <span className=\"icon-dot-3 icon\" />\n            <Link to=\"/\">More</Link>\n          </div>\n        </div>\n        {!user ? (\n          <div className=\"buttons\">\n            <div className=\"buttons__sign\">\n              <Link to=\"/login\">\n                <button type=\"button\" className=\"buttons__item flex-c-c\">\n                  <span>Sign In</span>\n                </button>\n              </Link>\n            </div>\n            <div className=\"buttons__sign\">\n              <Link to=\"/register\">\n                <button type=\"button\" className=\"buttons__item flex-c-c\">\n                  <span>Sign Up</span>\n                </button>\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"buttons\">\n            <div className=\"buttons__sign\">\n              <button\n                type=\"button\"\n                className=\"buttons__item flex-c-c\"\n                onClick={signOut}\n              >\n                <span>Sign Out</span>\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"navbar__menu--bottom\">\n          <div className=\"navbar__menu__item--small \">\n            <span className=\"icon-resize-horizontal icon\" />\n            <Link to=\"/\">Collapse</Link>\n          </div>\n          <div className=\"navbar__menu__item--small icon\">\n            <span className=\"icon-cog\" />\n            <Link to=\"/\">Settings</Link>\n          </div>\n          <div className=\"navbar__menu__item--small icon\">\n            <span className=\"icon-help\" />\n            <Link to=\"/\">Help</Link>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Navigation from '../../components/Navigation';\nimport * as userActions from '../../redux/actions/userActions';\nimport { signOutUser } from '../../firebase-config';\n\nconst $ = window.jQuery;\nconst Navbar = ({ user, logOutUser }) => {\n  const handleMenuClick = () => {\n    if ($(window).width() > 576) return;\n    const menuButton = $('.menu-btn');\n\n    const navbar = $('.navbar');\n    if (!menuButton.hasClass('open')) {\n      navbar.addClass('showNavbar');\n    } else {\n      navbar.removeClass('showNavbar');\n    }\n    menuButton.toggleClass('open');\n  };\n\n  const signOut = () => {\n    signOutUser(logOutUser);\n  };\n\n  return (\n    <>\n      <Navigation user={user} onClick={handleMenuClick} signOut={signOut} />\n    </>\n  );\n};\n\nfunction mapStateToProps({ user }) {\n  return {\n    user,\n  };\n}\n\nconst mapDispatchToProps = {\n  logOutUser: userActions.logOutUser,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\n","export default {\n  boardInfo: {\n    board: 'wooden',\n    piece: 'neo_wood',\n    mode: 'computer',\n    moves: [],\n    statusText: '',\n  },\n  user: null,\n};\n","import { combineReducers } from 'redux';\nimport boardInfo from './boardReducer';\nimport user from './userReducer';\n\nconst rootReducer = combineReducers({ boardInfo, user });\nexport default rootReducer;\n","import types from '../actions/actionTypes';\nimport initialState from './initialState';\n\nexport default function boardReducer(state = initialState.boardInfo, action) {\n  let moves = [];\n  if (action.move?.whiteSan || action.move?.blackSan) {\n    if (state.moves.length < 4) {\n      if (action.move.whiteSan !== '') {\n        moves = [...state.moves, action.move];\n      }\n      if (action.move.blackSan !== '') {\n        moves = [...state.moves.slice(0, -1), action.move];\n      }\n    } else {\n      moves = [...state.moves.slice(1, -1), action.move];\n    }\n  }\n\n  switch (action.type) {\n    case types.CHANGE_BOARD:\n      return { ...state, board: action.board };\n    case types.CHANGE_PIECE:\n      return { ...state, piece: action.piece };\n    case types.CHANGE_MODE:\n      return { ...state, mode: action.mode };\n    case types.UPDATE_MOVES:\n      return { ...state, moves };\n    case types.STATUS_TEXT:\n      return { ...state, statusText: action.statusText };\n    case types.DEFAULT_BOARD_SETTINGS:\n      return { ...initialState.boardInfo };\n    default:\n      return state;\n  }\n}\n","import types from '../actions/actionTypes';\nimport initialState from './initialState';\n\nexport default function userReducer(state = initialState.user, action) {\n  const { userName, uid, photo, points, email, password } = action;\n\n  switch (action.type) {\n    case types.LOGIN_USER:\n      return {\n        ...state,\n        userName,\n        uid,\n        photo,\n        email,\n        password,\n        points,\n      };\n    case types.LOG_OUT:\n      return null;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport OnlineGamePage from './containers/OnlineGamePage';\nimport HomePage from './containers/HomePage';\nimport LoginPage from './containers/LoginPage';\nimport RegisterPage from './containers/RegisterPage';\nimport PageNotFound from './containers/PageNotFound';\nimport ComputerGamePage from './containers/ComputerGamePage';\nimport GlobalChat from './containers/GlobalChat';\nimport Navbar from './containers/Navbar';\nimport configureStore from './redux/store';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <ReduxProvider store={store}>\n      <div className=\"container\">\n        <Router basename={process.env.PUBLIC_URL}>\n          <GlobalChat />\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n            <Route path=\"/login\" component={LoginPage} />\n            <Route path=\"/register\" component={RegisterPage} />\n            <Route exact path=\"/play/computer\" component={ComputerGamePage} />\n            <Route exact path=\"/play/:token\" component={OnlineGamePage} />\n            <Route component={PageNotFound} />\n          </Switch>\n        </Router>\n      </div>\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","/* eslint-disable no-underscore-dangle */\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers/index';\n\nexport default function configureStore(initialState) {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk))\n  );\n}\n"],"sourceRoot":""}