(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{67:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:28,a="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<e;t+=1)a+=n.charAt(Math.floor(Math.random()*n.length));return a}},68:function(e,a,n){"use strict";n.d(a,"d",(function(){return o})),n.d(a,"a",(function(){return r})),n.d(a,"c",(function(){return i})),n.d(a,"e",(function(){return s})),n.d(a,"b",(function(){return l})),n.d(a,"f",(function(){return u}));var t=window.jQuery;function o(){t("#board .square-55d63").removeClass("square")}function c(e){t("#board .square-".concat(e)).addClass("square")}function r(e,a){return!("w"===e&&-1!==a.search(/^b/))||"b"===e&&-1!==a.search(/^w/)}function i(e,a){var n=e.moves({square:a,verbose:!0});if(0!==n.length)for(var t=0;t<n.length;t+=1)c(n[t].to)}function s(e,a,n,t,o,c,r,i,s){var l="b"===e?"Black":"White";return s?"Draw by stalemate":r?"Draw by repetition":i?"Draw by insufficient material":t?"Draw position":c?"".concat(l," in checkmate, gameover"):o?"".concat(l," in check"):a>0?n?"Your Turn":"Opponent's move":"View Only"}function l(e,a){return 1===e&&"w"===a||2===e&&"b"===a}function u(e,a,n){if(1===e){if(0===a.blackTime||"b"===n)return"You won";if(0===a.whiteTime||"w"===n)return"You lost"}if(2===e){if(0===a.whiteTime||"w"===n)return"You won";if(0===a.blackTime||"b"===n)return"You lost"}}},69:function(e,a,n){"use strict";n.d(a,"b",(function(){return o})),n.d(a,"a",(function(){return c})),n.d(a,"c",(function(){return r}));var t=n(15);function o(e,a){var n=a.p1_token,t=a.p2_token;return e===n?1:e===t?2:0}var c=function(){return window.location?"".concat(window.location.origin).concat("/Chess-Game"):window.location};function r(e,a){var n=e.id,o=t.c.collection("games").doc(n);"w"===a.turn()?o.update({"timeLeft.whiteTime":t.b.firestore.FieldValue.increment(-1)}):o.update({"timeLeft.blackTime":t.b.firestore.FieldValue.increment(-1)})}},70:function(e,a,n){"use strict";n.d(a,"a",(function(){return o})),n.d(a,"c",(function(){return c})),n.d(a,"b",(function(){return r})),n.d(a,"e",(function(){return i})),n.d(a,"f",(function(){return s})),n.d(a,"d",(function(){return l}));var t=n(10);function o(e){return{type:t.a.CHANGE_BOARD,board:e}}function c(e){return{type:t.a.CHANGE_PIECE,piece:e}}function r(e){return{type:t.a.CHANGE_MODE,mode:e}}function i(e){return{type:t.a.UPDATE_MOVES,move:e}}function s(e){return{type:t.a.STATUS_TEXT,statusText:e}}function l(){return{type:t.a.DEFAULT_BOARD_SETTINGS}}},71:function(e,a,n){"use strict";var t=n(1),o=n.n(t),c=n(20),r=n.n(c),i=n(69),s=n(68),l=(n(73),function(e){var a=e.songRef,n=e.links,t=e.adress,c=e.userName,r=e.points,i=e.whiteTime,s=e.blackTime,l=e.playerNum,u=e.removeLink,m=e.isGameEnded,d=e.onBackToPlay;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"game"},m&&o.a.createElement("button",{type:"button",className:"backToPlay",onClick:d},o.a.createElement("span",{className:"backToPlay__arrow"},"\ud83e\udc14"),"Back to Play"),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},null!==c&&void 0!==c?c:"Guest 120"),o.a.createElement("span",{className:"points"},"(500)")),o.a.createElement("div",{className:"timer"},1===l?s:2===l?i:"5: 00")),o.a.createElement("div",{id:"board",className:"board"}),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},null!==c&&void 0!==c?c:"Guest 152"),o.a.createElement("span",{className:"points"},"(".concat(null!==r&&void 0!==r?r:500,")"))),o.a.createElement("div",{className:"timer"},1===l?i:2===l?s:"5: 00")),!0===n&&o.a.createElement("div",{className:"links"},o.a.createElement("h3",{className:"links__header"},"Second player Link"),o.a.createElement("div",{className:"links__link"},o.a.createElement("a",{target:"_blank",rel:"noreferrer",href:t.secondPlayer},t.secondPlayer)),o.a.createElement("div",{className:"closeButton",role:"button",tabIndex:0,onClick:u},"X"))),o.a.createElement("audio",{id:"myAudio",ref:a},o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_WEBM_/default/game-start.webm",type:"audio/webm"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_OGG_/default/game-start.ogg",type:"audio/ogg"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_MP3_/default/game-start.mp3",type:"audio/mpeg"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_WAV_/default/game-start.wav",type:"audio/wav"})))}),u=window.jQuery;l.propTypes={songRef:r.a.oneOfType([r.a.func,r.a.shape({current:r.a.instanceOf(Element)})]),links:r.a.bool,userName:r.a.string,points:r.a.number,playerNum:r.a.number,isGameEnded:r.a.bool,p1_token:r.a.string,p2_token:r.a.string,timeLeft:r.a.shape({whiteTime:r.a.number,blackTime:r.a.number,isGameActive:r.a.bool}),changeSite:r.a.func,updateLocalStorage:r.a.func,turn:r.a.string};a.a=function(e){var a=e.songRef,n=e.p1_token,c=e.p2_token,r=e.links,m=e.userName,d=e.points,f=e.timeLeft,_=e.playerNum,p=e.isGameEnded,b=e.changeSite,g=e.updateLocalStorage,v=e.turn;Object(t.useEffect)((function(){var e,a,n=localStorage.getItem("user"),t=Object(s.f)(_,f,v);null!==n&&(n=JSON.parse(n),p&&n&&g("You won"===t?(null===(e=n)||void 0===e?void 0:e.points)+8:(null===(a=n)||void 0===a?void 0:a.points)-8))}),[p]);var h={firstPlayer:"".concat(Object(i.a)(),"/play/").concat(n),secondPlayer:"".concat(Object(i.a)(),"/play/").concat(c)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,a=Math.floor(e/60),n=Math.floor(e-60*a);return"".concat(a,": ").concat(n<10?"0".concat(n):n)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l,{whiteTime:E(null===f||void 0===f?void 0:f.whiteTime),blackTime:E(null===f||void 0===f?void 0:f.blackTime),playerNum:_,adress:h,removeLink:function(){u(".links").css("display","none")},songRef:a,links:r,userName:m,points:d,isGameEnded:p,onBackToPlay:function(){b("/")}}))}},73:function(e,a,n){},76:function(e,a,n){"use strict";function t(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},c=Object.keys(e);for(t=0;t<c.length;t++)n=c[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)n=c[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(a,"a",(function(){return t}))},91:function(e,a,n){},96:function(e,a,n){"use strict";n.r(a);var t=n(29),o=n(1),c=n.n(o),r=n(21),i=n(72),s=n(66),l=n(76),u=n(20),m=n.n(u),d=n(6),f=n(67),_=n(15),p=(n(91),function(e){var a=e.changeBoard,n=e.changePiece,t=e.changeMode,o=e.createGame;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"configBoard"},c.a.createElement("div",{className:"configBoard__wrapper"},c.a.createElement("div",{className:"configBoard__header flex-c"},"Play Chess"),c.a.createElement("div",{className:"configBoard__config"},c.a.createElement("div",{className:"configBoard__config__board"},c.a.createElement("div",{className:"config__header"},"Your Board"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{type:"button",name:"wooden",className:"configBoard__options__btn configBoard__options__btn--active board__btn",onClick:a},"Wooden"),c.a.createElement("button",{type:"button",name:"classic",className:"configBoard__options__btn board__btn",onClick:a},"Classic"))),c.a.createElement("div",{className:"configBoard__config__pieces"},c.a.createElement("div",{className:"config__header"},"Your Pieces"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{type:"button",name:"neo_wood",className:"configBoard__options__btn--small configBoard__options__btn--active piece__btn",onClick:n},"Neo wood"),c.a.createElement("button",{type:"button",name:"alpha",className:"configBoard__options__btn configBoard__options__btn piece__btn",onClick:n},"Alpha"),c.a.createElement("button",{name:"uscf",onClick:n,type:"button",className:"configBoard__options__btn piece__btn"},"USCF"),c.a.createElement("button",{name:"classic",onClick:n,type:"button",className:"configBoard__options__btn piece__btn"},"Classic"))),c.a.createElement("div",{className:"mode"},c.a.createElement("div",{className:"config__header"},"Mode"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{onClick:t,type:"button",className:"configBoard__options__btn--big configBoard__options__btn--active mode__btn",name:"computer"},"with computer"),c.a.createElement("button",{onClick:t,type:"button",className:"configBoard__options__btn--big mode__btn",name:"online"},"with friend"))),c.a.createElement("div",{className:"findGame flex-c"},c.a.createElement("button",{type:"button",className:"findGame__button",onClick:o},"Find game"))))))}),b=window.jQuery;p.propTypes={board:m.a.string,piece:m.a.string,mode:m.a.string,history:m.a.string,changeBoard:m.a.func.isRequired,changePiece:m.a.func.isRequired,changeMode:m.a.func.isRequired};var g=Object(d.f)((function(e){e.board,e.piece;var a=e.mode,n=e.history,t=Object(l.a)(e,["board","piece","mode","history"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(p,{changeBoard:function(e){var a=e.target,n=a;b(".board__btn").removeClass("configBoard__options__btn--active"),b(n).addClass("configBoard__options__btn--active");var o=a.name;t.changeBoard(o)},changePiece:function(e){var a=e.target,n=a;b(".piece__btn").removeClass("configBoard__options__btn--active"),b(n).addClass("configBoard__options__btn--active"),t.changePiece(a.name)},changeMode:function(e){var a=e.target,n=a;b(".mode__btn").removeClass("configBoard__options__btn--active"),b(n).addClass("configBoard__options__btn--active"),t.changeMode(a.name)},createGame:function(){var e={p1_token:Object(f.a)(8),p2_token:Object(f.a)(8),moveIndex:1,timeLeft:{whiteTime:3,blackTime:2}};"online"===a?_.c.collection("games").add(e).then((function(){return n.push("./play/".concat(e.p1_token))})).catch((function(e){throw e})):"computer"===a&&n.push("./play/computer")}}))})),v=n(70),h=n(71),E=n(34),y=window.jQuery;var N={changeBoard:v.a,changePiece:v.c,changeMode:v.b,defaultBoardSettings:v.d,loginUserWithSocials:E.c,loginUserWithForm:E.b};a.default=Object(r.b)((function(e){var a=e.boardInfo,n=e.user;return{board:a.board,piece:a.piece,mode:a.mode,user:n}}),N)((function(e){var a=e.user,n=e.board,r=e.piece,l=e.mode,u=e.changeBoard,m=e.changePiece,d=e.changeMode,f=e.defaultBoardSettings,p=e.loginUserWithSocials,b=e.loginUserWithForm,v=Object(s.a)(_.a),E=Object(t.a)(v,1)[0];Object(o.useEffect)((function(){null!==E&&null===a&&p(E),null===E&&null===a&&b()}),[E]),Object(o.useEffect)((function(){N()}),[n,r]),Object(o.useEffect)((function(){f()}),[]);var N=function(){var e={pieceTheme:"".concat("/Chess-Game","/img/chesspieces/").concat(r,"/{piece}.png"),position:"start"},a=Object(i.a)("board",e),t=y(".chessboard-63f37"),o=y(".square-55d63");"wooden"===n?(t.addClass("woodenBoard"),o.addClass("transparent")):"classic"===n&&(t.removeClass("woodenBoard"),o.removeClass("transparent")),y(window).resize(a.resize)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page__wrapper"},c.a.createElement(h.a,{userName:null===a||void 0===a?void 0:a.userName,points:null===a||void 0===a?void 0:a.points}),c.a.createElement(g,{board:n,piece:r,mode:l,changeBoard:u,changePiece:m,changeMode:d})))}))}}]);
//# sourceMappingURL=6.4dfdb259.chunk.js.map