{"version":3,"sources":["containers/LozzaGame/index.js"],"names":["game","window","jQuery","Game","Chess","board","console","log","fen","LozzaGame","useEffect","makeEngineMove","move","aiMove","from","Object","keys","toLocaleLowerCase","to","values","position","config","pieceTheme","process","draggable","onDrop","source","target","promotion","Move","setTimeout","onSnapEnd","Chessboard","className","id","style","width"],"mappings":"yGAAA,4DAgBMA,GAJIC,OAAOC,OAGF,IAAIC,OADC,4DAEP,IAAIC,KAEbC,EAAQ,KACZC,QAAQC,IAAIP,EAAKQ,OAoDFC,UAnDG,WA0ChB,OAzCAC,qBAAU,WACR,SAASC,IACP,IAAMC,EAAOC,iBAAOb,EAAKQ,MAAO,GAC1BM,EAAOC,OAAOC,KAAKJ,GAAM,GAAGK,oBAC5BC,EAAKH,OAAOI,OAAOP,GAAM,GAAGK,oBAClCjB,EAAKY,KAAK,CACRE,OACAI,OAEFb,EAAMe,SAASpB,EAAKQ,OAsBtB,IAAMa,EAAS,CACbC,WAAW,GAAD,OAAKC,cAAL,yCACVC,WAAW,EACXJ,SAAU,QACVK,OAvBF,SAAgBC,EAAQC,GACtB,IAAMnB,EAAMR,EAAKQ,MAMjB,GAAa,OALAR,EAAKY,KAAK,CACrBE,KAAMY,EACNR,GAAIS,EACJC,UAAW,MAGX,MAAO,WAETC,eAAKrB,EAAKkB,EAAQC,GAElB1B,OAAO6B,WAAWnB,EAAgB,OAYlCoB,UATF,WACE1B,EAAMe,SAASpB,EAAKQ,SAWtBH,EAAQ2B,YAAW,QAASX,KAC3B,IAED,oCACE,yBAAKY,UAAU,iBACb,yBAAKC,GAAG,QAAQC,MAAO,CAAEC,MAAO","file":"static/js/13.8e6f21a9.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport Chess from 'chess.js/chess';\nimport Chessboard from '@chrisoakman/chessboardjs/dist/chessboard-1.0.0';\nimport {\n  Game,\n  move as Move,\n  status,\n  moves,\n  aiMove,\n  getFen,\n} from 'js-chess-engine';\n\nconst $ = window.jQuery;\n\nconst INITIAL_FEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\nconst engine = new Game(INITIAL_FEN);\nconst game = new Chess();\n\nlet board = null;\nconsole.log(game.fen());\nconst LozzaGame = () => {\n  useEffect(() => {\n    function makeEngineMove() {\n      const move = aiMove(game.fen(), 2);\n      const from = Object.keys(move)[0].toLocaleLowerCase();\n      const to = Object.values(move)[0].toLocaleLowerCase();\n      game.move({\n        from,\n        to,\n      });\n      board.position(game.fen());\n    }\n\n    function onDrop(source, target) {\n      const fen = game.fen();\n      const move = game.move({\n        from: source,\n        to: target,\n        promotion: 'q',\n      });\n      if (move === null) {\n        return 'snapback';\n      }\n      Move(fen, source, target);\n\n      window.setTimeout(makeEngineMove, 1200);\n    }\n\n    function onSnapEnd() {\n      board.position(game.fen());\n    }\n\n    const config = {\n      pieceTheme: `${process.env.PUBLIC_URL}/img/chesspieces/neo_wood/{piece}.png`,\n      draggable: true,\n      position: 'start',\n      onDrop,\n      onSnapEnd,\n    };\n\n    board = Chessboard('board', config);\n  }, []);\n  return (\n    <>\n      <div className=\"page__wrapper\">\n        <div id=\"board\" style={{ width: 400 }} />\n      </div>\n    </>\n  );\n};\n\nexport default LozzaGame;\n"],"sourceRoot":""}