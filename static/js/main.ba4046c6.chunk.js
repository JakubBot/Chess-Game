(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{43:function(e,a){e.exports="data:image/png;base64,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"},47:function(e,a,t){e.exports=t(80)},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},62:function(e,a,t){},64:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(29),c=t.n(r),s=t(11),i=t(8),l=t(9),u=t(5),m=(t(56),function(e){var a=e.value,t=e.errors,n=e.name,r=e.labelText,c=e.placeHolder,s=e.onChange;return o.a.createElement("div",{className:"form__item"},o.a.createElement("label",{className:"form__item__header",htmlFor:n},r),o.a.createElement("input",{type:"text",id:n,value:a,onChange:s,name:n,className:"form__item__input",placeholder:c}),t&&o.a.createElement("span",{className:"form__item__error"},t))}),d=function(e){var a=e.message,t=e.uid,n=e.photoURL,r=t===e.userUID?"sent":"received";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"floated__chat__item ".concat(r)},o.a.createElement("div",{className:"floated__chat__message ".concat(r)},o.a.createElement("span",{className:"floated__chat__userMessage"},a)),o.a.createElement("img",{src:n,alt:"userPhoto"})))},p=(t(57),function(e){var a=e.loginGoogle,t=e.loginFacebook;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"emptyChat"},o.a.createElement("h4",null,"Login to use this chat"),o.a.createElement("div",{className:"emptyChat__icons  flex-c"},o.a.createElement("span",{className:"icon-google google "}),o.a.createElement("div",{className:"login__buttons__button google",role:"button",tabIndex:"0",onClick:a},"Google")),o.a.createElement("div",{className:"emptyChat__icons flex-c"},o.a.createElement("span",{className:"icon-facebook-squared facebook "}),o.a.createElement("div",{className:"login__buttons__button facebook",role:"button",tabIndex:"0",onClick:t},"Facebook"))))}),f=(t(58),Object(n.forwardRef)((function(e,a){var t=e.messages,n=e.user,r=e.formMessage,c=e.onClick,s=e.onChange,i=e.onSubmit,l=e.loginGoogle,u=e.loginFacebook;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"floated"},o.a.createElement("button",{type:"button",className:"floatedButton",onClick:c},o.a.createElement("span",{className:"floatedButton__icon",name:"floatedButton__icon"},"+")),o.a.createElement("div",{className:"floated__chat"},o.a.createElement("h3",{className:"floated__chat__header"},"Say Hello To World!"),o.a.createElement("ul",{className:"floated__chat__list"},n?t.map((function(e){var a=e.message,t=e.uid,r=e.photoURL,c=e.docId;return o.a.createElement(d,{message:a,uid:t,key:c,photoURL:r,userUID:n.uid})})):o.a.createElement(p,{loginGoogle:l,loginFacebook:u}),o.a.createElement("span",{ref:a})),o.a.createElement("form",{className:"floated__form",onSubmit:i},o.a.createElement(m,{onChange:s,value:r,placeHolder:"Aa"}),o.a.createElement("button",{type:"submit",className:"floated__form__button"},o.a.createElement("svg",{viewBox:"0 0 24 24",height:"20px",width:"20px"},o.a.createElement("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fillRule:"evenodd",stroke:"none"})))))))}))),g=t(22);t(81),t(60);g.a.initializeApp({apiKey:"AIzaSyCWNcsnLzCTiD2ckKYjPFOOnSU_am3IOBc",authDomain:"chess-website-b9199.firebaseapp.com",projectId:"chess-website-b9199",storageBucket:"chess-website-b9199.appspot.com",messagingSenderId:"223317395203",appId:"1:223317395203:web:d81cf77519987424260b36",measurementId:"G-XJQS56VDHX"});var b=g.a.firestore(),v=g.a.auth(),_=new g.a.auth.GoogleAuthProvider,E=new g.a.auth.FacebookAuthProvider,h=function(){v.signInWithPopup(_)},N=function(){v.signInWithPopup(E)},w=function(e){v.signOut().then((function(){return e()}))},O=g.a,S=window.jQuery,k=null;var j=Object(s.b)((function(e){return{user:e.user}}),null)((function(e){var a=e.user,t=Object(n.useState)(""),r=Object(u.a)(t,2),c=r[0],s=r[1],i=Object(n.useState)([]),l=Object(u.a)(i,2),m=l[0],d=l[1],p=Object(n.useRef)(null);Object(n.useEffect)((function(){return function(){var e=b.collection("globalMessages");k=e.orderBy("createdAt","asc").onSnapshot((function(e){if(e.size){var a=e.docs.map((function(e){var a=e.data();return{message:a.message,uid:a.uid,photoURL:a.photoURL,docId:e.id}})),t=a[0];a.length>14?g(t.docId):d(a)}}))}(),function(){return k&&k()}}),[]);var g=function(e){b.collection("globalMessages").doc(e).delete()};return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{onClick:function(e){p.current.scrollIntoView({behavior:"smooth"}),"floatedButton__icon"===S(e.target).attr("name")&&S(".floated").toggleClass("active")},onChange:function(e){s(e.target.value)},formMessage:c,onSubmit:function(e){(e.preventDefault(),""!==c&&a)&&(b.collection("globalMessages").add({message:c,uid:a.uid,photoURL:a.photo,createdAt:O.firestore.FieldValue.serverTimestamp()}),s(""),p.current.scrollIntoView({behavior:"smooth"}))},messages:m,user:a,ref:p,loginGoogle:h,loginFacebook:N}))})),C=t(43),T=t.n(C),y=(t(62),function(e){var a=e.user,t=e.onClick,n=e.signOut;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"menu-btn",role:"button",tabIndex:"0",onClick:t},o.a.createElement("div",{className:"menu-btn__burger"})),o.a.createElement("div",{className:"menu__socials"},o.a.createElement("span",{className:"icon-home icon"}),o.a.createElement("span",{className:"icon-twitter-squared icon"}),o.a.createElement("span",{className:"icon-facebook-squared icon"}),o.a.createElement("span",{className:"icon-cog icon"})),o.a.createElement("div",{className:"navbar","aria-hidden":"true"},o.a.createElement("div",{className:"navbar__menu "},o.a.createElement("img",{src:T.a,className:"menu__logo",alt:"logo"}),o.a.createElement("div",{className:"navbar__menu__item"},o.a.createElement("span",{className:"icon-home icon"}),o.a.createElement(i.b,{to:"/"},"Home")),o.a.createElement("div",{className:"navbar__menu__item"},o.a.createElement("span",{className:"icon-gamepad icon"}),o.a.createElement(i.b,{to:"/"},"Play")),o.a.createElement("div",{className:"navbar__menu__item "},o.a.createElement("span",{className:"icon-puzzle icon"}),o.a.createElement(i.b,{to:"/"},"Puzzles")),o.a.createElement("div",{className:"navbar__menu__item"},o.a.createElement("span",{className:"icon-graduation-cap icon"}),o.a.createElement(i.b,{to:"/"},"Learn")),o.a.createElement("div",{className:"navbar__menu__item"},o.a.createElement("span",{className:"icon-dot-3 icon"}),o.a.createElement(i.b,{to:"/"},"More"))),a?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons__sign"},o.a.createElement("button",{type:"button",className:"buttons__item flex-c-c",onClick:n},o.a.createElement("span",null,"Sign Out")))):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons__sign"},o.a.createElement(i.b,{to:"/login"},o.a.createElement("button",{type:"button",className:"buttons__item flex-c-c"},o.a.createElement("span",null,"Sign In")))),o.a.createElement("div",{className:"buttons__sign"},o.a.createElement(i.b,{to:"/register"},o.a.createElement("button",{type:"button",className:"buttons__item flex-c-c"},o.a.createElement("span",null,"Sign Up"))))),o.a.createElement("div",{className:"navbar__menu--bottom"},o.a.createElement("div",{className:"navbar__menu__item--small "},o.a.createElement("span",{className:"icon-resize-horizontal icon"}),o.a.createElement(i.b,{to:"/"},"Collapse")),o.a.createElement("div",{className:"navbar__menu__item--small icon"},o.a.createElement("span",{className:"icon-cog"}),o.a.createElement(i.b,{to:"/"},"Settings")),o.a.createElement("div",{className:"navbar__menu__item--small icon"},o.a.createElement("span",{className:"icon-help"}),o.a.createElement(i.b,{to:"/"},"Help")))))}),B=t(4),x={CHANGE_BOARD:"CHANGE_BOARD",CHANGE_PIECE:"CHANGE_PIECE",CHANGE_MODE:"CHANGE_MODE",LOGIN_USER:"LOGIN_USER_SUCCESS",LOG_OUT:"LOG_OUT",UPDATE_MOVES:"UPDATE_MOVES",STATUS_TEXT:"STATUS_TEXT",DEFAULT_BOARD_SETTINGS:"DEFAULT_BOARD_SETTINGS"};function L(e){var a=e.userName,t=e.photo,n=e.uid,o=e.points;return{type:x.LOGIN_USER,userName:a,photo:t,uid:n,points:o}}function I(){return localStorage.setItem("user",null),{type:x.LOG_OUT}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{method:"get",user:null};return function(a){var t=e.user;"set"===e.method?localStorage.setItem("user",JSON.stringify(t)):t=JSON.parse(localStorage.getItem("user")),t&&a(L(t))}}function F(e){return function(a){var t=localStorage.getItem("user");null!==t&&(t=JSON.parse(t),localStorage.setItem("user",JSON.stringify(Object(B.a)(Object(B.a)({},t),{},{points:e}))),a(L(Object(B.a)(Object(B.a)({},t),{},{points:e}))))}}function U(e){return function(a){return b.collection("users").where("uid","==",e.uid).onSnapshot((function(t){var n=t.size,o=t.docs;if(1===n){var r=function(e){var a=e[0].data();return{uid:a.uid,points:a.points,userName:a.userName,photo:a.photo}}(o);a(L(r))}else!function(e){var a=e.photoURL,t=e.displayName,n=e.uid;b.collection("users").add({uid:n,points:500,userName:t,photo:a})}(e)}))}}var G=window.jQuery;var M={logOutUser:I},R=Object(s.b)((function(e){return{user:e.user}}),M)((function(e){var a=e.user,t=e.logOutUser;return o.a.createElement(o.a.Fragment,null,o.a.createElement(y,{user:a,onClick:function(){if(!(G(window).width()>576)){var e=G(".menu-btn"),a=G(".navbar");e.hasClass("open")?a.removeClass("showNavbar"):a.addClass("showNavbar"),e.toggleClass("open")}},signOut:function(){w(t)}}))})),P=(t(64),t(17)),D=t(35),W=t(2),q=t.n(W),z=t(33),H=t.n(z),Y=t(25);function V(e,a){var t=a.p1_token,n=a.p2_token;return e===t?1:e===n?2:0}var K=function(){return window.location?"".concat(window.location.origin).concat(window.location.pathname,"#").concat(window.location.pathname):window.location};var Q=window.jQuery;function X(){Q("#board .square-55d63").removeClass("square")}function Z(e){Q("#board .square-".concat(e)).addClass("square")}function J(e,a){return!("w"===e&&-1!==a.search(/^b/))||"b"===e&&-1!==a.search(/^w/)}function $(e,a){var t=e.moves({square:a,verbose:!0});if(0!==t.length)for(var n=0;n<t.length;n+=1)Z(t[n].to)}function ee(e,a,t,n,o,r,c,s,i){var l="b"===e?"Black":"White";return i?"Draw by stalemate":c?"Draw by repetition":s?"Draw by insufficient material":n?"Draw position":r?"".concat(l," in checkmate, gameover"):o?"".concat(l," in check"):a>0?t?"Your Turn":"Opponent's move":"View Only"}function ae(e,a){return 1===e&&"w"===a||2===e&&"b"===a}function te(e,a,t){if(1===e){if(0===a.blackTime||"b"===t)return"You won";if(0===a.whiteTime||"w"===t)return"You lost"}if(2===e){if(0===a.whiteTime||"w"===t)return"You won";if(0===a.blackTime||"b"===t)return"You lost"}}t(68);var ne=function(e){var a=e.songRef,t=e.token,n=e.links,r=e.adress,c=e.userName,s=e.points,i=e.whiteTime,l=e.blackTime,u=e.playerNum,m=e.removeLink,d=e.isGameEnded,p=e.onBackToHome;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"game"},d&&o.a.createElement("button",{type:"button",className:"backToHome",onClick:p},"Back to Home"),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},t||2===u?"Friend":"Guest 120"),o.a.createElement("span",{className:"points"},"(500)")),o.a.createElement("div",{className:"timer"},1===u?l:2===u?i:"5: 00")),o.a.createElement("div",{id:"board",className:"board"}),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},null!==c&&void 0!==c?c:"Guest 152"),o.a.createElement("span",{className:"points"},"(".concat(null!==s&&void 0!==s?s:500,")"))),o.a.createElement("div",{className:"timer"},1===u?i:2===u?l:"5: 00")),!0===n&&o.a.createElement("div",{className:"links"},o.a.createElement("h3",{className:"links__header"},"Second player Link"),o.a.createElement("div",{className:"links__link"},o.a.createElement("a",{target:"_blank",rel:"noreferrer",href:r.secondPlayer},r.secondPlayer)),o.a.createElement("div",{className:"closeButton",role:"button",tabIndex:0,onClick:m},"X"))),o.a.createElement("audio",{id:"myAudio",ref:a},o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_WEBM_/default/game-start.webm",type:"audio/webm"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_OGG_/default/game-start.ogg",type:"audio/ogg"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_MP3_/default/game-start.mp3",type:"audio/mpeg"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_WAV_/default/game-start.wav",type:"audio/wav"})))},oe=window.jQuery;ne.propTypes={songRef:q.a.oneOfType([q.a.func,q.a.shape({current:q.a.instanceOf(Element)})]),links:q.a.bool,userName:q.a.string,points:q.a.number,token:q.a.string,playerNum:q.a.number,isGameEnded:q.a.bool,p1_token:q.a.string,p2_token:q.a.string,timeLeft:q.a.shape({whiteTime:q.a.number,blackTime:q.a.number,isGameActive:q.a.bool}),changeSite:q.a.func,updateLocalStorage:q.a.func,turn:q.a.string};var re=function(e){var a=e.songRef,t=e.p1_token,r=e.p2_token,c=e.links,s=e.userName,i=e.points,l=e.token,u=e.timeLeft,m=e.playerNum,d=e.isGameEnded,p=e.changeSite,f=e.updateLocalStorage,g=e.turn;Object(n.useEffect)((function(){var e,a,t=localStorage.getItem("user"),n=te(m,u,g);null!==t&&(t=JSON.parse(t),d&&t&&f("You won"===n?(null===(e=t)||void 0===e?void 0:e.points)+8:(null===(a=t)||void 0===a?void 0:a.points)-8))}),[d]);var b={firstPlayer:"".concat(K(),"/play/online/").concat(t),secondPlayer:"".concat(K(),"/play/online/").concat(r)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,a=Math.floor(e/60),t=Math.floor(e-60*a);return"".concat(a,": ").concat(t<10?"0".concat(t):t)};return console.log("".concat(K(),"/play/online/").concat(t)),o.a.createElement(o.a.Fragment,null,o.a.createElement(ne,{whiteTime:v(null===u||void 0===u?void 0:u.whiteTime),blackTime:v(null===u||void 0===u?void 0:u.blackTime),playerNum:m,adress:b,removeLink:function(){oe(".links").css("display","none")},songRef:a,links:c,userName:s,points:i,isGameEnded:d,onBackToHome:function(){p("/")},token:l}))},ce="https://betacssjs.chesscomfiles.com/bundles/web/images/white_400.09ae248e.png",se=function(e){var a=e.status,t=e.photo,n=void 0===t?ce:t,r=e.points,c=e.isSignedIn,s=e.deleteCard;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"endGameCard ".concat("You won"===a?"greenBackgrond":"greyBackground")},o.a.createElement("div",{className:"endGameCard__close"},o.a.createElement("button",{className:"endGameCard__close__button",type:"button",onClick:s},"\u2718")),o.a.createElement("div",{className:"wrapper"},o.a.createElement("h3",{className:"wrapper__header"},a),o.a.createElement("div",{className:"wrapper__images"},o.a.createElement("img",{src:n,alt:"userImage",className:"wrapper__image ".concat("You won"===a?"win__border":"lose__border")}),o.a.createElement("img",{src:ce,alt:"userImage",className:"wrapper__image ".concat("You lost"===a?"win__border":"lose__border")})),o.a.createElement("div",{className:"wrapper__rating"},o.a.createElement("h3",{className:"wrapper__rating__header"},"Rating"),o.a.createElement("div",{className:"wrapper__rating__points"},o.a.createElement("span",{className:"wrapper__rating__point"},r),c?"You won"===a?o.a.createElement("span",{className:"wrapper__rating__win"},"+8"):o.a.createElement("span",{className:"wrapper__rating__lose"},"-8"):o.a.createElement("span",{className:"wrapper__rating__unranked"},"Unranked"))))))},ie=(t(69),window.jQuery),le=function(e){var a=e.timeLeft,t=e.turn,r=e.playerNum,c=void 0===r?1:r,s=e.user;Object(n.useEffect)((function(){if(s){var e=b.collection("users").where("uid","==",s.uid),n=te(c,a,t);e.get().then((function(e){if(1===e.size){var a=Object(u.a)(e.docs,1)[0].id;"You won"===n?b.collection("users").doc(a).update({points:O.firestore.FieldValue.increment(8)}):b.collection("users").doc(a).update({points:O.firestore.FieldValue.increment(-8)})}}))}}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(se,{deleteCard:function(){ie(".endGameCard").css("display","none")},status:te(c,a,t),photo:null===s||void 0===s?void 0:s.photo,points:null===s||void 0===s?void 0:s.points,isSignedIn:null!==s}))},ue=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:28,a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n+=1)a+=t.charAt(Math.floor(Math.random()*t.length));return a},me=window.jQuery,de=null,pe=null,fe=function(e){var a=e.boardType,t=e.piece,r=e.user,c=(e.mode,e.updateMoves),s=e.updateStatusText,i=e.changeSite,l=e.updateLocalStorage,m=Object(D.a)(e,["boardType","piece","user","mode","updateMoves","updateStatusText","changeSite","updateLocalStorage"]),d=Object(n.useState)(new H.a),p=Object(u.a)(d,1)[0],f=Object(n.useState)({token:m.match.params.token}),g=Object(u.a)(f,2),v=g[0],_=g[1],E=Object(n.useRef)(null),h=Object(n.useState)(!1),N=Object(u.a)(h,2),w=N[0],S=N[1];return Object(n.useEffect)((function(){var e,a,t=null;return v.isGameActive&&(t=setInterval((function(){!function(e,a){var t=e.id,n=b.collection("games").doc(t);"w"===a.turn()?n.update({"timeLeft.whiteTime":O.firestore.FieldValue.increment(-1)}):n.update({"timeLeft.blackTime":O.firestore.FieldValue.increment(-1)})}(v,p)}),1e3)),((null===(e=v.timeLeft)||void 0===e?void 0:e.whiteTime)<=0||(null===(a=v.timeLeft)||void 0===a?void 0:a.blackTime)<=0)&&(clearInterval(t),S(!0)),function(){return clearInterval(t)}}),[v.isGameActive,v.timeLeft]),Object(n.useEffect)((function(){var e,n;return e=v.token,n=function(e,n){!function(e,n){var o=p,r=V(v.token,n);o.load(n.fen||"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"),pe?ae(r,o.turn())&&pe.position(o.fen()):(pe=function(e,n){var o=p,r=V(v.token,n),c={pieceTheme:"".concat("/Chess-Game","/img/chesspieces/").concat(t,"/{piece}.png"),draggable:!0,position:"start",onDragStart:function(e,a){return $(p,e),me('img[data-piece="'.concat(a,'"]')).addClass("z-index"),!o.game_over()&&ae(r,o.turn())&&J(o.turn(),a)},onDrop:function(a,t,n){me('img[data-piece="'.concat(n,'"]')).removeClass("z-index"),X();var c=p.move({from:a,to:t,promotion:"q"});if(null===c)return"snapback";var s=b.collection("games").doc(e);1===r?s.update({fen:o.fen(),whiteSan:c.san,isGameActive:!0}):2===r&&s.update({fen:o.fen(),blackSan:c.san})},onSnapEnd:function(){return E.current.play(),pe.position(o.fen())},onMouseoutSquare:X,onMouseoverSquare:function(e){ae(r,o.turn())&&$(p,e)}};pe=Object(Y.a)("board",c),2===r&&pe.orientation("black");var s=me(".chessboard-63f37"),i=me(".square-55d63");return"wooden"===a?(s.addClass("woodenBoard"),i.addClass("transparent")):"classic"===pe&&(s.removeClass("woodenBoard"),i.removeClass("transparent")),me(window).resize(pe.resize),pe}(e,n)).position(o.fen())}(e,n),function(e,a){var t=a.p1_token,n=a.p2_token,o=a.whiteSan,r=a.blackSan,c=a.timeLeft,s=a.moveIndex,i=a.isGameActive,l=V(v.token,{p1_token:t,p2_token:n});_((function(a){return Object(B.a)(Object(B.a)({},a),{},{isGameActive:i,timeLeft:c,id:e,moveIndex:s,p1_token:t,p2_token:n,whiteSan:o,blackSan:r,statusText:ee(p.turn(),l,ae(l,p.turn()),p.in_draw(),p.in_check(),p.in_checkmate(),p.in_threefold_repetition(),p.insufficient_material(),p.in_stalemate())})}))}(e,n)},["p1_token","p2_token"].forEach((function(a){var t=b.collection("games").where(a,"==",e);de=t.onSnapshot((function(e){if(e.size){var a=e.docs.map((function(e){return{data:e.data(),id:e.id}})),t=Object(u.a)(a,1)[0];n(t.id,t.data)}}))})),function(){return de&&de()}}),[]),Object(n.useEffect)((function(){s(v.statusText)}),[v.statusText]),Object(n.useEffect)((function(){var e,a=v.whiteSan,t=v.blackSan;(a||t)&&c({whiteSan:a,blackSan:t,id:ue(5),moveIndex:null!==(e=v.moveIndex)&&void 0!==e?e:1});var n=b.collection("games").doc(v.id);v.whiteSan&&v.blackSan&&n.update({whiteSan:"",blackSan:"",moveIndex:O.firestore.FieldValue.increment(1)})}),[v.whiteSan,v.blackSan]),o.a.createElement(o.a.Fragment,null,(p.game_over()||w)&&o.a.createElement(le,{timeLeft:v.timeLeft,turn:p.turn(),user:r}),o.a.createElement(re,{timeLeft:v.timeLeft,links:!0,songRef:E,p1_token:v.p1_token,p2_token:v.p2_token,userName:null===r||void 0===r?void 0:r.userName,points:null===r||void 0===r?void 0:r.points,playerNum:V(v.token,v),isGameEnded:p.game_over()||w,changeSite:i,updateLocalStorage:l,token:v.token}))};fe.propTypesd={board:q.a.string,piece:q.a.string,token:q.a.string,user:q.a.shape({userName:q.a.string,photo:q.a.string,uid:q.a.string,points:q.a.number}),updateMoves:q.a.func.isRequired,updateStatusText:q.a.func.isRequired,changeSite:q.a.func.isRequired,updateLocalStorage:q.a.func.isRequired};var ge=Object(l.f)(fe),be=t(20),ve=(t(70),function(e){var a=e.moves;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"moves"},Object(be.a)(a).reverse().map((function(e){var a=e.whiteSan,t=e.blackSan,n=e.moveIndex;return o.a.createElement("li",{className:"moves__item",key:e.id},o.a.createElement("span",{className:"index"},n),o.a.createElement("span",{className:"san"},a),o.a.createElement("span",{className:"san"},t))}))))}),_e=t(40),Ee=t.n(_e),he=t(44),Ne=t(45),we=function(e){var a=e.msg,t=e.user,n=a.uid,r=a.message,c=a.photoURL,s=n===t.uid?"sent":"received";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"message"},o.a.createElement("div",{className:"message ".concat(s)},o.a.createElement("div",{className:"userMessage ".concat(s)},r),o.a.createElement("img",{src:c,alt:"userPhoto"}))))},Oe=(t(72),Object(n.forwardRef)((function(e,a){var t=e.messages,n=e.user,r=e.formValue,c=e.sendMessage,s=e.handleChange,i=e.loginGoogle,l=e.loginFacebook;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scoreBoard__info__chat"},o.a.createElement("div",{className:"scoreBoard__info__header"},"Chat"),o.a.createElement("div",{className:"scoreBoard__info__options"},o.a.createElement("div",{className:"chat"},o.a.createElement("div",{className:"windowChat"},t.map((function(e){return o.a.createElement(we,{key:e.id,user:n,msg:e,uid:e.uid})})),o.a.createElement("span",{ref:a})),o.a.createElement("div",{className:"chatMessage"},o.a.createElement("form",{onSubmit:c},o.a.createElement("input",{type:"text",value:r,onChange:s,placeholder:"Aa"}),o.a.createElement("button",{type:"submit"},o.a.createElement("span",{role:"img","aria-label":"icon"},"\ud83d\udd4a\ufe0f")))),!n&&o.a.createElement(p,{loginGoogle:i,loginFacebook:l})))))})));we.propTypes={messages:q.a.arrayOf(q.a.shape({docId:q.a.string,message:q.a.string,photoURL:q.a.string,uid:q.a.string})),user:q.a.shape({userName:q.a.string,photo:q.a.string,uid:q.a.string,points:q.a.number}),formValue:q.a.string,sendMessage:q.a.func,handleChange:q.a.func,loginGoogle:q.a.func,loginFacebook:q.a.func};var Se=Oe,ke=null,je=Object(l.f)((function(e){var a=Object(n.useState)(""),t=Object(u.a)(a,2),r=t[0],c=t[1],s=Object(P.a)(v),i=Object(u.a)(s,1)[0],l=Object(n.useRef)(null),m=Object(n.useState)(""),d=Object(u.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)([]),_=Object(u.a)(g,2),E=_[0],w=_[1];Object(n.useEffect)((function(){var a;return a=e.match.params.token,["p1_token","p2_token"].forEach((function(e){var t=b.collection("games").where(e,"==",a);ke=t.onSnapshot((function(e){if(e.size){var a=e.docs.map((function(e){return{data:e.data(),id:e.id}})),t=Object(u.a)(a,1)[0],n=t.data.messages,o=t.id;n&&n.length>14&&function(e,a){var t=b.collection("games").doc(e),n=Object(Ne.a)(a).slice(1);t.update({messages:n})}(o,n),w(null!==n&&void 0!==n?n:[]),f(o)}}))})),function(){return ke&&ke()}}),[]);var O=function(){var e=Object(he.a)(Ee.a.mark((function e(a){var t,n;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==r&&i){e.next=3;break}return e.abrupt("return");case 3:t=i.uid,n=i.photoURL,b.collection("games").doc(p).update({messages:[].concat(Object(be.a)(E),[{message:r,uid:t,photoURL:n,id:ue(6)}])}).then((function(){c(""),window.innerWidth<1e3&&l.current.scrollIntoView({behavior:"smooth"})}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Se,{messages:E,ref:l,sendMessage:O,user:i,formValue:r,handleChange:function(e){c(e.target.value)},loginGoogle:h,loginFacebook:N}))})),Ce=(t(73),function(e){var a=e.moves,t=e.statusText,n=e.isOnline;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scoreBoard"},o.a.createElement("div",{className:"scoreBoard__wrapper"},o.a.createElement("div",{className:"scoreBoard__header flex-c"},""===t?"Your turn":t),o.a.createElement("div",{className:"scoreBoard__info"},o.a.createElement("div",{className:"scoreBoard__info__moves"},o.a.createElement("div",{className:"scoreBoard__info__header"},"Last Moves"),o.a.createElement("div",{className:"scoreBoard__info__options"},0===a.length?o.a.createElement("div",{className:"dots"},o.a.createElement("span",{className:"dot"},"."),o.a.createElement("span",{className:"dot"},"."),o.a.createElement("span",{className:"dot"},".")):o.a.createElement(ve,{moves:a})),n&&o.a.createElement(je,null))))))});function Te(e){return{type:x.UPDATE_MOVES,move:e}}function ye(e){return{type:x.STATUS_TEXT,statusText:e}}var Be={updateMoves:Te,updateStatusText:ye,loginUserWithSocials:U,loginUserWithForm:A,updateLocalStorage:F},xe=Object(s.b)((function(e){var a=e.boardInfo,t=a.moves,n=a.statusText,o=a.piece,r=a.board;return{moves:t,statusText:n,piece:o,mode:a.mode,boardType:r,user:e.user}}),Be)((function(e){var a=e.user,t=e.moves,r=e.statusText,c=e.piece,s=e.boardType,i=e.mode,l=e.history,m=e.updateMoves,d=e.updateStatusText,p=e.loginUserWithSocials,f=e.loginUserWithForm,g=e.updateLocalStorage,b=Object(P.a)(v),_=Object(u.a)(b,1)[0];return Object(n.useEffect)((function(){null!==_&&null===a&&p(_),null===_&&null===a&&f()}),[_]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"page__wrapper"},o.a.createElement(ge,{changeSite:l.push,user:a,piece:c,boardType:s,updateMoves:m,updateStatusText:d,updateLocalStorage:g,userName:null===a||void 0===a?void 0:a.userName,points:null===a||void 0===a?void 0:a.points,mode:i}),o.a.createElement(Ce,{isOnline:!0,moves:t,statusText:r})))})),Le=(t(74),function(e){var a=e.changeBoard,t=e.changePiece,n=e.changeMode,r=e.createGame;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"configBoard"},o.a.createElement("div",{className:"configBoard__wrapper"},o.a.createElement("div",{className:"configBoard__header flex-c"},"Play Chess"),o.a.createElement("div",{className:"configBoard__config"},o.a.createElement("div",{className:"configBoard__config__board"},o.a.createElement("div",{className:"config__header"},"Your Board"),o.a.createElement("div",{className:"configBoard__options"},o.a.createElement("button",{type:"button",name:"wooden",className:"configBoard__options__btn configBoard__options__btn--active board__btn",onClick:a},"Wooden"),o.a.createElement("button",{type:"button",name:"classic",className:"configBoard__options__btn board__btn",onClick:a},"Classic"))),o.a.createElement("div",{className:"configBoard__config__pieces"},o.a.createElement("div",{className:"config__header"},"Your Pieces"),o.a.createElement("div",{className:"configBoard__options"},o.a.createElement("button",{type:"button",name:"neo_wood",className:"configBoard__options__btn--small configBoard__options__btn--active piece__btn",onClick:t},"Neo wood"),o.a.createElement("button",{type:"button",name:"alpha",className:"configBoard__options__btn configBoard__options__btn piece__btn",onClick:t},"Alpha"),o.a.createElement("button",{name:"uscf",onClick:t,type:"button",className:"configBoard__options__btn piece__btn"},"USCF"),o.a.createElement("button",{name:"classic",onClick:t,type:"button",className:"configBoard__options__btn piece__btn"},"Classic"))),o.a.createElement("div",{className:"mode"},o.a.createElement("div",{className:"config__header"},"Mode"),o.a.createElement("div",{className:"configBoard__options"},o.a.createElement("button",{onClick:n,type:"button",className:"configBoard__options__btn--big configBoard__options__btn--active mode__btn",name:"computer"},"with computer"),o.a.createElement("button",{onClick:n,type:"button",className:"configBoard__options__btn--big mode__btn",name:"online"},"with friend"))),o.a.createElement("div",{className:"findGame flex-c"},o.a.createElement("button",{type:"button",className:"findGame__button",onClick:r},"Find game"))))))}),Ie=window.jQuery;Le.propTypes={board:q.a.string,piece:q.a.string,mode:q.a.string,history:q.a.string,changeBoard:q.a.func.isRequired,changePiece:q.a.func.isRequired,changeMode:q.a.func.isRequired};var Ae=Object(l.f)((function(e){e.board,e.piece;var a=e.mode,t=e.history,n=Object(D.a)(e,["board","piece","mode","history"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{changeBoard:function(e){var a=e.target,t=a;Ie(".board__btn").removeClass("configBoard__options__btn--active"),Ie(t).addClass("configBoard__options__btn--active");var o=a.name;n.changeBoard(o)},changePiece:function(e){var a=e.target,t=a;Ie(".piece__btn").removeClass("configBoard__options__btn--active"),Ie(t).addClass("configBoard__options__btn--active"),n.changePiece(a.name)},changeMode:function(e){var a=e.target,t=a;Ie(".mode__btn").removeClass("configBoard__options__btn--active"),Ie(t).addClass("configBoard__options__btn--active"),n.changeMode(a.name)},createGame:function(){var e={p1_token:ue(8),p2_token:ue(8),moveIndex:1,timeLeft:{whiteTime:300,blackTime:300}};"online"===a?b.collection("games").add(e).then((function(){return t.push("/play/online/".concat(e.p1_token))})).catch((function(e){throw e})):"computer"===a&&t.push("./play/computer")}}))})),Fe=window.jQuery;var Ue={changeBoard:function(e){return{type:x.CHANGE_BOARD,board:e}},changePiece:function(e){return{type:x.CHANGE_PIECE,piece:e}},changeMode:function(e){return{type:x.CHANGE_MODE,mode:e}},defaultBoardSettings:function(){return{type:x.DEFAULT_BOARD_SETTINGS}},loginUserWithSocials:U,loginUserWithForm:A},Ge=Object(s.b)((function(e){var a=e.boardInfo,t=e.user;return{board:a.board,piece:a.piece,mode:a.mode,user:t}}),Ue)((function(e){var a=e.user,t=e.board,r=e.piece,c=e.mode,s=e.changeBoard,i=e.changePiece,l=e.changeMode,m=e.defaultBoardSettings,d=e.loginUserWithSocials,p=e.loginUserWithForm,f=Object(P.a)(v),g=Object(u.a)(f,1)[0];Object(n.useEffect)((function(){null!==g&&null===a&&d(g),null===g&&null===a&&p()}),[g]),Object(n.useEffect)((function(){b()}),[t,r]),Object(n.useEffect)((function(){m()}),[]);var b=function(){var e={pieceTheme:"".concat("/Chess-Game","/img/chesspieces/").concat(r,"/{piece}.png"),position:"start"},a=Object(Y.a)("board",e),n=Fe(".chessboard-63f37"),o=Fe(".square-55d63");"wooden"===t?(n.addClass("woodenBoard"),o.addClass("transparent")):"classic"===t&&(n.removeClass("woodenBoard"),o.removeClass("transparent")),Fe(window).resize(a.resize)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"page__wrapper"},o.a.createElement(re,{userName:null===a||void 0===a?void 0:a.userName,points:null===a||void 0===a?void 0:a.points}),o.a.createElement(Ae,{board:t,piece:r,mode:c,changeBoard:s,changePiece:i,changeMode:l})))})),Me=t(24),Re=(t(75),function(e){var a=e.text;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{type:"submit",className:"form__button"},o.a.createElement("span",null,a)))}),Pe=(t(76),function(e){var a=e.user,t=e.form,n=e.errors,r=e.signOut,c=e.loginFacebook,s=e.loginGoogle,l=e.onChange,u=e.onSubmit;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"login"},o.a.createElement("form",{className:"login__form",onSubmit:u},o.a.createElement("span",{className:"formError"},n.formError&&n.formError),o.a.createElement(m,{labelText:"email :",value:t.email,onChange:l,name:"email"}),o.a.createElement(m,{labelText:"password :",value:t.password,onChange:l,name:"password"}),o.a.createElement(Re,{text:"Log in"})),o.a.createElement("div",{className:"login__buttons"},o.a.createElement("div",{className:"login__buttons__header "},o.a.createElement("span",{className:"line"}),o.a.createElement("span",null,"Or connect with"),o.a.createElement("span",{className:"line"})),o.a.createElement("div",{className:"login__icons"},o.a.createElement("div",{className:"login__icons__icon  flex-c"},o.a.createElement("span",{className:"icon-google google "}),a?o.a.createElement("div",{className:"login__buttons__button google",role:"button",tabIndex:"0",onClick:r},"Sign out"):o.a.createElement("div",{className:"login__buttons__button google",role:"button",tabIndex:"0",onClick:s},"Google")),o.a.createElement("div",{className:"login__icons__icon flex-c"},o.a.createElement("span",{className:"icon-facebook-squared facebook "}),a?o.a.createElement("div",{className:"login__buttons__button facebook",role:"button",tabIndex:"0",onClick:r},"Sign out"):o.a.createElement("div",{className:"login__buttons__button facebook",role:"button",tabIndex:"0",onClick:c},"Facebook"))))),o.a.createElement("footer",{className:"footer"},"New?",o.a.createElement(i.b,{to:"register",className:"footer__link"},"Sign up for FREE!")))}),De={logOutUser:I,loginUserWithSocials:U,loginUserWithForm:A};var We=Object(l.f)(Object(s.b)((function(e){return{user:e.user}}),De)((function(e){var a=e.user,t=e.history,r=e.loginUserWithSocials,c=e.loginUserWithForm,s=e.logOutUser,i=Object(n.useState)({email:"",password:""}),l=Object(u.a)(i,2),m=l[0],d=l[1],p=Object(P.a)(v),f=Object(u.a)(p,1)[0],g=Object(n.useState)({}),_=Object(u.a)(g,2),E=_[0],O=_[1];Object(n.useEffect)((function(){null!==f&&null===a&&r(f),null===f&&null===a&&c()}),[f]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"loginPage__wrapper"},o.a.createElement(Pe,{form:m,onChange:function(e){var a=e.target,t=a.name,n=a.value;d((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(Me.a)({},t,n))}))},onSubmit:function(e){e.preventDefault(),b.collection("users").where("email","==",m.email).where("password","==",m.password).get().then((function(e){if(e.empty)O({formError:"We cannot find an account with that email address and password"});else{var a=e.docs[0].data();c({user:a,method:"set"}),t.push("/")}}))},user:a,loginGoogle:h,signOut:function(){w(s)},loginFacebook:N,errors:E})))}))),qe=(t(77),function(e){var a=e.form,t=e.errors,n=e.onChange,r=e.onSubmit;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"register"},o.a.createElement("header",{className:"register__header"},"Join Now",o.a.createElement("span",{className:"small-dash"},"\u2014"),o.a.createElement("span",{className:"italic"},"Free & Easy!")),o.a.createElement("form",{className:"register__form",onSubmit:r},o.a.createElement(m,{value:a.userName,name:"userName",onChange:n,labelText:"username :",errors:t.userName}),o.a.createElement(m,{value:a.email,name:"email",onChange:n,labelText:"email :",errors:t.email}),o.a.createElement(m,{value:a.password,name:"password",onChange:n,labelText:"password :",errors:t.password}),o.a.createElement(Re,{text:"Register"}))),o.a.createElement("footer",{className:"footer"},"Have an account?",o.a.createElement(i.b,{to:"login",className:"footer__link"},"log in here")))});var ze={loginUserWithSocials:U,loginUserWithForm:A},He=Object(l.f)(Object(s.b)((function(e){return{user:e.user}}),ze)((function(e){var a=e.user,t=e.history,r=e.loginUserWithForm,c=e.loginUserWithSocials,s=Object(n.useState)({userName:"",email:"",password:""}),i=Object(u.a)(s,2),l=i[0],m=i[1],d=Object(n.useState)({}),p=Object(u.a)(d,2),f=p[0],g=p[1],_=Object(P.a)(v),E=Object(u.a)(_,1)[0];Object(n.useEffect)((function(){null!==E&&null===a&&c(E),null===E&&null===a&&r()}),[E]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"registerPage__wrapper"},o.a.createElement(qe,{onChange:function(e){var a=e.target,t=a.name,n=a.value;m((function(e){return Object(B.a)(Object(B.a)({},e),{},Object(Me.a)({},t,n))}))},onSubmit:function(e){if(e.preventDefault(),function(){var e=l.userName,a=l.email,t=l.password,n={};return 0===e.length?n.userName="User name is required":e.length<3?n.userName="User name has to be longer than 3 characters":e.length>10&&(n.userName="User name has to be shorter than 10 characters"),0===a.length?n.email="Email is required":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a.toLocaleLowerCase())||(n.email="Please enter a valid email address."),0===t.length?n.password="Password is required":t.length<3?n.password="Password has to be longer than 3 characters":t.length>10&&(n.password="Password has to be shorter than 10 characters"),g(n),0===Object.keys(n).length}()){var a=ue(),n=l.userName,o={email:l.email,password:l.password,uid:a,userName:n,photo:"https://betacssjs.chesscomfiles.com/bundles/web/images/white_400.09ae248e.png",points:500};b.collection("users").add(o).then((function(){r({user:o,method:"set"})})),m({userName:"",email:"",password:""}),t.push("/")}},form:l,errors:f})))}))),Ye=(t(78),function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"message"},o.a.createElement("h2",null,"404"),o.a.createElement("h1",null,"Page Not Found"),o.a.createElement("p",null,"The specified file was not found on this website. Please check the URL for mistakes and try again.")))});function Ve(e,a,t){if(null===e)return 0;var n={p:[[0,0,0,0,0,0,0,0],[5,5,5,5,5,5,5,5],[1,1,2,3,3,2,1,1],[.5,.5,1,2.5,2.5,1,.5,.5],[0,0,0,2,2,0,0,0],[.5,-.5,-1,0,0,-1,-.5,.5],[.5,1,1,-2,-2,1,1,.5],[0,0,0,0,0,0,0,0]],n:[[-5,-4,-3,-3,-3,-3,-4,-5],[-4,-2,0,0,0,0,-2,-4],[-3,0,1,1.5,1.5,1,0,-3],[-3,.5,1.5,2,2,1.5,.5,-3],[-3,0,1.5,2,2,1.5,0,-3],[-3,.5,1,1.5,1.5,1,.5,-3],[-4,-2,0,.5,.5,0,-2,-4],[-5,-4,-3,-3,-3,-3,-4,-5]],b:[[-2,-1,-1,-1,-1,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,1,1,.5,0,-1],[-1,.5,.5,1,1,.5,.5,-1],[-1,0,1,1,1,1,0,-1],[-1,1,1,1,1,1,1,-1],[-1,.5,0,0,0,0,.5,-1],[-2,-1,-1,-1,-1,-1,-1,-2]],r:[[0,0,0,0,0,0,0,0],[.5,1,1,1,1,1,1,.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[0,0,0,.5,.5,0,0,0]],q:[[-2,-1,-1,-.5,-.5,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,.5,.5,.5,0,-1],[-.5,0,.5,.5,.5,.5,0,-.5],[0,0,.5,.5,.5,.5,0,-.5],[-1,.5,.5,.5,.5,.5,0,-1],[-1,0,.5,0,0,0,0,-1],[-2,-1,-1,-.5,-.5,-1,-1,-2]],k:[[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-2,-3,-3,-4,-4,-3,-3,-2],[-1,-2,-2,-2,-2,-2,-2,-1],[2,2,0,0,0,0,2,2],[2,3,1,0,0,1,3,2]]}[e.type],o={p:10,n:30,b:35,r:50,q:90,k:900}[e.type];return"w"===e.color?o+=n[a][t]:o+=n[7-a][t],"w"===e.color?o:-o}function Ke(e,a,t,n,o){var r=e.moves(),c=r.length;if(0===a)return-function(e){for(var a=0,t=0;t<8;t++)for(var n=0;n<8;n++)a+=Ve(e[t][n],t,n);return a}(e.board());if(t){for(var s=-1/0,i=0;i<c;i++)if(e.move(r[i]),s=Math.max(s,Ke(e,a-1,!t,n,o)),e.undo(),(n=Math.max(n,s))>=o)return s;return s}for(var l=1/0,u=0;u<c;u++)if(e.move(r[u]),l=Math.min(l,Ke(e,a-1,!t,n,o)),e.undo(),n>=(o=Math.min(o,l)))return l;return l}var Qe=window.jQuery,Xe=null,Ze=new H.a;var Je={updateMoves:Te,updateStatusText:ye,loginUserWithSocials:U,loginUserWithForm:A,updateLocalStorage:F},$e=Object(s.b)((function(e){var a=e.boardInfo,t=a.piece,n=a.board,o=a.moves,r=a.statusText;return{piece:t,boardType:n,user:e.user,moves:o,currentStatusText:r}}),Je)((function(e){var a=e.history,t=e.boardType,r=e.user,c=e.piece,s=e.updateMoves,i=e.updateStatusText,l=e.moves,m=e.currentStatusText,d=e.loginUserWithSocials,p=e.loginUserWithForm,f=e.updateLocalStorage,g=Object(P.a)(v),b=Object(u.a)(g,1)[0],_=Object(n.useState)({whiteSan:"",blackSan:"",id:null,index:0}),E=Object(u.a)(_,2),h=E[0],N=E[1],w=Object(n.useState)({whiteTime:300,blackTime:300,isGameActive:!1}),O=Object(u.a)(w,2),S=O[0],k=O[1],j=Object(n.useState)(!1),C=Object(u.a)(j,2),T=C[0],y=C[1],x=Object(n.useRef)(null);function L(){var e=ee(Ze.turn(),1,ae(1,Ze.turn()),Ze.in_draw(),Ze.in_check(),Ze.in_checkmate(),Ze.in_threefold_repetition(),Ze.insufficient_material(),Ze.in_stalemate());i(e)}return Object(n.useEffect)((function(){return null!==b&&null===r&&d(b),null===b&&null===r&&p(),function(){return Ze.reset()}}),[b]),Object(n.useEffect)((function(){k((function(e){return Object(B.a)(Object(B.a)({},e),{},{isGameActive:!1})}))}),[Ze.game_over(),T]),Object(n.useEffect)((function(){var e=null;return S.isGameActive&&(e=setInterval((function(){"w"===Ze.turn()?k((function(e){return Object(B.a)(Object(B.a)({},e),{},{whiteTime:e.whiteTime-1})})):k((function(e){return Object(B.a)(Object(B.a)({},e),{},{blackTime:e.blackTime-1})}))}),1e3)),(S.whiteTime<=0||S.blackTime<=0)&&(clearInterval(e),y(!0)),function(){return clearInterval(e)}}),[S.isGameActive,S]),Object(n.useEffect)((function(){if(h){var e=h.whiteSan,a=h.blackSan,t=h.index;""===e&&""===a||s({whiteSan:e,blackSan:a,index:t,id:ue(5)}),""!==e&&""!==a&&N(Object(B.a)(Object(B.a)({},h),{},{whiteSan:"",blackSan:"",id:null}))}}),[h]),Object(n.useEffect)((function(){function e(){var e=function(e,a,t){for(var n,o=e.moves(),r=[],c=o.length,s=-1/0,i=0;i<c;i++){var l=o[i];r.push(e.move(l));var u=Ke(e,a-1,!t,-1/0,1/0);e.undo(),u>=s&&(s=u,n=l)}var m=r.find((function(e){return e.san===n}));return{bestMove:n,move:m}}(Ze,2,!0),a=e.bestMove,t=e.move;N((function(e){return Object(B.a)(Object(B.a)({},e),{},{blackSan:null===t||void 0===t?void 0:t.san})})),Ze.move(a),Xe.position(Ze.fen()),L()}x.current.play();var a={pieceTheme:"".concat("/Chess-Game","/img/chesspieces/").concat(c,"/{piece}.png"),draggable:!0,position:"start",onDragStart:function(e,a){return $(Ze,e),!Ze.game_over()&&"w"===Ze.turn()&&J(Ze.turn(),a)},onDrop:function(a,t){X();var n=Ze.move({from:a,to:t,promotion:"q"});if(null===n)return"snapback";window.setTimeout(e,3200),N((function(e){return Object(B.a)(Object(B.a)({},e),{},{whiteSan:null===n||void 0===n?void 0:n.san,index:e.index+1})})),k((function(e){return Object(B.a)(Object(B.a)({},e),{},{isGameActive:!0})}))},onSnapEnd:function(){x.current.play(),Xe.position(Ze.fen()),L()},onMouseoutSquare:X,onMouseoverSquare:function(e){$(Ze,e)}};Xe=Object(Y.a)("board",a),Qe(window).resize(Xe.resize);var n=Qe(".chessboard-63f37"),o=Qe(".square-55d63");"wooden"===t?(n.addClass("woodenBoard"),o.addClass("transparent")):"classic"===Xe&&(n.removeClass("woodenBoard"),o.removeClass("transparent")),L()}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"page__wrapper"},(Ze.game_over()||T)&&o.a.createElement(le,{timeLeft:S,turn:Ze.turn(),user:r}),o.a.createElement(re,{timeLeft:S,songRef:x,links:!1,playerNum:1,isGameEnded:Ze.game_over()||T,changeSite:a.push,updateLocalStorage:f,userName:null===r||void 0===r?void 0:r.userName,points:null===r||void 0===r?void 0:r.points,turn:Ze.turn()}),o.a.createElement(Ce,{moves:l,statusText:m})))})),ea=t(19),aa=t(46),ta={boardInfo:{board:"wooden",piece:"neo_wood",mode:"computer",moves:[],statusText:""},user:null};var na=Object(ea.c)({boardInfo:function(){var e,a,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta.boardInfo,n=arguments.length>1?arguments[1]:void 0,o=[];switch(((null===(e=n.move)||void 0===e?void 0:e.whiteSan)||(null===(a=n.move)||void 0===a?void 0:a.blackSan))&&(t.moves.length<4?(""!==n.move.whiteSan&&(o=[].concat(Object(be.a)(t.moves),[n.move])),""!==n.move.blackSan&&(o=[].concat(Object(be.a)(t.moves.slice(0,-1)),[n.move]))):o=[].concat(Object(be.a)(t.moves.slice(1,-1)),[n.move])),n.type){case x.CHANGE_BOARD:return Object(B.a)(Object(B.a)({},t),{},{board:n.board});case x.CHANGE_PIECE:return Object(B.a)(Object(B.a)({},t),{},{piece:n.piece});case x.CHANGE_MODE:return Object(B.a)(Object(B.a)({},t),{},{mode:n.mode});case x.UPDATE_MOVES:return Object(B.a)(Object(B.a)({},t),{},{moves:o});case x.STATUS_TEXT:return Object(B.a)(Object(B.a)({},t),{},{statusText:n.statusText});case x.DEFAULT_BOARD_SETTINGS:return Object(B.a)({},ta.boardInfo);default:return t}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta.user,a=arguments.length>1?arguments[1]:void 0,t=a.userName,n=a.uid,o=a.photo,r=a.points;switch(a.type){case x.LOGIN_USER:return Object(B.a)(Object(B.a)({},e),{},{userName:t,uid:n,photo:o,points:r});case x.LOG_OUT:return null;case x.UPDATE_USER_POINTS:return Object(B.a)(Object(B.a)({},e),{},{points:a.points});default:return e}}});t(79);var oa=function(e){var a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ea.d;return Object(ea.e)(na,e,a(Object(ea.a)(aa.a)))}();c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,{store:oa},o.a.createElement("div",{className:"container"},o.a.createElement(i.a,{basename:"/Chess-Game"},o.a.createElement(j,null),o.a.createElement(R,null),o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:Ge}),o.a.createElement(l.a,{path:"/login",component:We}),o.a.createElement(l.a,{path:"/register",component:He}),o.a.createElement(l.a,{path:"/play/computer",component:$e}),o.a.createElement(l.a,{path:"/play/online/:token",component:xe}),o.a.createElement(l.a,{component:Ye})))))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ba4046c6.chunk.js.map