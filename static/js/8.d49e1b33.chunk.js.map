{"version":3,"sources":["components/RegisterForm/RegisterForm.js","containers/RegisterPage/index.js","../node_modules/react-firebase-hooks/auth/dist/index.esm.js","components/utils/index.js","components/common/SubmitButton/index.js"],"names":["RegisterForm","form","errors","onChange","onSubmit","className","TextInput","value","userName","name","labelText","email","password","SubmitButton","text","to","mapDispatchToProps","loginUserWithSocials","userActions","loginUserWithForm","withRouter","connect","user","history","useState","setForm","setErrors","useAuthState","auth","authUser","useEffect","target","prevState","event","preventDefault","_error","length","test","toLocaleLowerCase","Object","keys","formIsValid","uid","generateID","photo","points","firestore","collection","add","then","method","push","__assign","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","defaultState","defaultValue","loading","undefined","useLoadingValue","getDefaultValue","_a","useReducer","state","action","type","error","dispatch","reset","setError","setValue","currentUser","listener","onAuthStateChanged","number","possible","charAt","Math","floor","random"],"mappings":"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","file":"static/js/8.d49e1b33.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport TextInput from '../common/TextInput';\nimport SubmitButton from '../common/SubmitButton';\nimport './RegisterForm.scss';\n\nconst RegisterForm = ({ form, errors, onChange, onSubmit }) => {\n  return (\n    <>\n      <div className=\"register\">\n        <header className=\"register__header\">\n          Join Now\n          <span className=\"small-dash\">â€”</span>\n          <span className=\"italic\">Free & Easy!</span>\n        </header>\n        <form className=\"register__form\" onSubmit={onSubmit}>\n          <TextInput\n            value={form.userName}\n            name=\"userName\"\n            onChange={onChange}\n            labelText=\"username :\"\n            errors={errors.userName}\n          />\n          <TextInput\n            value={form.email}\n            name=\"email\"\n            onChange={onChange}\n            labelText=\"email :\"\n            errors={errors.email}\n          />\n          <TextInput\n            value={form.password}\n            name=\"password\"\n            onChange={onChange}\n            labelText=\"password :\"\n            errors={errors.password}\n          />\n          <SubmitButton text=\"Register\" />\n        </form>\n      </div>\n      <footer className=\"footer\">\n        Have an account?\n        <Link to=\"login\" className=\"footer__link\">\n          log in here\n        </Link>\n      </footer>\n    </>\n  );\n};\n\nRegisterForm.propTypes = {\n  form: PropTypes.shape({\n    email: PropTypes.string.isRequired,\n    userName: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired,\n  }),\n  errors: PropTypes.shape({\n    email: PropTypes.string,\n    userName: PropTypes.string,\n    password: PropTypes.string,\n  }),\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default RegisterForm;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport RegisterForm from '../../components/RegisterForm/RegisterForm';\nimport { firestore, auth } from '../../firebase-config';\nimport { generateID } from '../../components/utils';\nimport * as userActions from '../../redux/actions/userActions';\n\nconst RegisterPage = ({\n  user,\n  history,\n  loginUserWithForm,\n  loginUserWithSocials,\n}) => {\n  const [form, setForm] = useState({\n    userName: '',\n    email: '',\n    password: '',\n  });\n  const [errors, setErrors] = useState({});\n  const [authUser] = useAuthState(auth);\n  useEffect(() => {\n    if (authUser !== null && user === null) {\n      loginUserWithSocials(authUser);\n    }\n    if (authUser === null && user === null) {\n      loginUserWithForm();\n    }\n  }, [authUser]);\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n\n    setForm((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const formIsValid = () => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const { userName, email, password } = form;\n    const _error = {};\n\n    if (userName.length === 0) {\n      _error.userName = 'User name is required';\n    } else if (userName.length < 3) {\n      _error.userName = 'User name has to be longer than 3 characters';\n    } else if (userName.length > 10) {\n      _error.userName = 'User name has to be shorter than 10 characters';\n    }\n\n    if (email.length === 0) {\n      _error.email = 'Email is required';\n    } else if (!re.test(email.toLocaleLowerCase())) {\n      _error.email = 'Please enter a valid email address.';\n    }\n    if (password.length === 0) {\n      _error.password = 'Password is required';\n    } else if (password.length < 3) {\n      _error.password = 'Password has to be longer than 3 characters';\n    } else if (password.length > 10) {\n      _error.password = 'Password has to be shorter than 10 characters';\n    }\n\n    setErrors(_error);\n\n    return Object.keys(_error).length === 0;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!formIsValid()) return;\n\n    const uid = generateID();\n    const photo =\n      'https://betacssjs.chesscomfiles.com/bundles/web/images/white_400.09ae248e.png';\n    const { userName, email, password } = form;\n    const user = {\n      email,\n      password,\n      uid,\n      userName,\n      photo,\n      points: 500,\n    };\n    const usersRef = firestore.collection('users');\n    usersRef.add(user).then(() => {\n      loginUserWithForm({ user, method: 'set' });\n    });\n\n    setForm({\n      userName: '',\n      email: '',\n      password: '',\n    });\n    history.push('/');\n  };\n\n  return (\n    <>\n      <div className=\"registerPage__wrapper\">\n        <RegisterForm\n          onChange={handleChange}\n          onSubmit={handleSubmit}\n          form={form}\n          errors={errors}\n        />\n      </div>\n    </>\n  );\n};\nfunction mapStateToProps({ user }) {\n  return {\n    user,\n  };\n}\n\nconst mapDispatchToProps = {\n  loginUserWithSocials: userActions.loginUserWithSocials,\n  loginUserWithForm: userActions.loginUserWithForm,\n};\n\nRegisterPage.propTypes = {\n  user: PropTypes.shape({\n    userName: PropTypes.string,\n    photo: PropTypes.string,\n    uid: PropTypes.string,\n    points: PropTypes.number,\n  }),\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }),\n  loginUserWithForm: PropTypes.func.isRequired,\n  loginUserWithSocials: PropTypes.func.isRequired,\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(RegisterPage)\n);\n","import { useReducer, useEffect } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return {\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    };\r\n});\n\nvar useAuthState = (function (auth) {\r\n    var _a = useLoadingValue(function () { return auth.currentUser; }), error = _a.error, loading = _a.loading, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    useEffect(function () {\r\n        var listener = auth.onAuthStateChanged(setValue, setError);\r\n        return function () {\r\n            listener();\r\n        };\r\n    }, [auth]);\r\n    return [value, loading, error];\r\n});\n\nexport { useAuthState };\n","/* eslint-disable import/prefer-default-export */\nexport const convertTime = (_seconds) => {\n  const minutes = Math.floor(_seconds / 60);\n\n  const seconds = _seconds - minutes * 60;\n  if (seconds > 9) return `${minutes}: ${seconds}`;\n  return `${minutes}: 0${seconds}`;\n};\n\nexport const generateID = (number = 28) => {\n  let text = '';\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < number; i += 1) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n};\n\n// const [timer, setTimer] = useState(12);\n// useEffect(() => {\n//   const interval = setInterval(() => {\n//     if (timer > 0) setTimer((timer) => timer - 1);\n//     else clearInterval(interval);\n//   }, 1000);\n\n//   return () => clearInterval(interval);\n// }, [timer]);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst SubmitButton = ({ text }) => {\n  return (\n    <>\n      <button type=\"submit\" className=\"form__button\">\n        <span>{text}</span>\n      </button>\n    </>\n  );\n};\n\nSubmitButton.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default SubmitButton;\n"],"sourceRoot":""}