(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{101:function(e,n,a){},115:function(e,n,a){"use strict";a.r(n);var t=a(28),o=a(1),c=a.n(o),r=a(20),i=a(74),s=a.n(i),l=a(68),u=a(86),m=a(19),d=a.n(m),f=a(6),p=a(69),_=a(16),b=(a(101),function(e){var n=e.changeBoard,a=e.changePiece,t=e.changeMode,o=e.createGame;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"configBoard"},c.a.createElement("div",{className:"configBoard__wrapper"},c.a.createElement("div",{className:"configBoard__header flex-c"},"Play Chess"),c.a.createElement("div",{className:"configBoard__config"},c.a.createElement("div",{className:"configBoard__config__board"},c.a.createElement("div",{className:"config__header"},"Your Board"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{type:"button",name:"wooden",className:"configBoard__options__btn configBoard__options__btn--active board__btn",onClick:n},"Wooden"),c.a.createElement("button",{type:"button",name:"classic",className:"configBoard__options__btn board__btn",onClick:n},"Classic"))),c.a.createElement("div",{className:"configBoard__config__pieces"},c.a.createElement("div",{className:"config__header"},"Your Pieces"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{type:"button",name:"neo_wood",className:"configBoard__options__btn--small configBoard__options__btn--active piece__btn",onClick:a},"Neo wood"),c.a.createElement("button",{type:"button",name:"alpha",className:"configBoard__options__btn configBoard__options__btn piece__btn",onClick:a},"Alpha"),c.a.createElement("button",{name:"uscf",onClick:a,type:"button",className:"configBoard__options__btn piece__btn"},"USCF"),c.a.createElement("button",{name:"classic",onClick:a,type:"button",className:"configBoard__options__btn piece__btn"},"Classic"))),c.a.createElement("div",{className:"mode"},c.a.createElement("div",{className:"config__header"},"Mode"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{onClick:t,type:"button",className:"configBoard__options__btn--big configBoard__options__btn--active mode__btn",name:"computer"},"with computer"),c.a.createElement("button",{onClick:t,type:"button",className:"configBoard__options__btn--big mode__btn",name:"online"},"with friend"))),c.a.createElement("div",{className:"findGame flex-c"},c.a.createElement("button",{type:"button",className:"findGame__button",onClick:o},"Find game"))))))}),g=["board","piece","mode","history"],v=window.jQuery;b.propTypes={board:d.a.string,piece:d.a.string,mode:d.a.string,history:d.a.string,changeBoard:d.a.func.isRequired,changePiece:d.a.func.isRequired,changeMode:d.a.func.isRequired};var h=Object(f.f)((function(e){e.board,e.piece;var n=e.mode,a=e.history,t=Object(u.a)(e,g);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b,{changeBoard:function(e){var n=e.target,a=n;v(".board__btn").removeClass("configBoard__options__btn--active"),v(a).addClass("configBoard__options__btn--active");var o=n.name;t.changeBoard(o)},changePiece:function(e){var n=e.target,a=n;v(".piece__btn").removeClass("configBoard__options__btn--active"),v(a).addClass("configBoard__options__btn--active"),t.changePiece(n.name)},changeMode:function(e){var n=e.target,a=n;v(".mode__btn").removeClass("configBoard__options__btn--active"),v(a).addClass("configBoard__options__btn--active"),t.changeMode(n.name)},createGame:function(){var e={p1_token:Object(p.a)(8),p2_token:Object(p.a)(8),moveIndex:1,timeLeft:{whiteTime:300,blackTime:300}};"online"===n?_.c.collection("games").add(e).then((function(){return a.push("/play/online/".concat(e.p1_token))})).catch((function(e){throw e})):"computer"===n&&a.push("/play/computer")}}))})),E=a(72),y=a(73),k=a(31),w=window.jQuery;var N={changeBoard:E.a,changePiece:E.c,changeMode:E.b,defaultBoardSettings:E.d,loginUserWithSocials:k.c,loginUserWithForm:k.b};n.default=Object(r.b)((function(e){var n=e.boardInfo,a=e.user;return{board:n.board,piece:n.piece,mode:n.mode,user:a}}),N)((function(e){var n=e.user,a=e.board,r=e.piece,i=e.mode,u=e.changeBoard,m=e.changePiece,d=e.changeMode,f=e.defaultBoardSettings,p=e.loginUserWithSocials,b=e.loginUserWithForm,g=Object(l.a)(_.a),v=Object(t.a)(g,1)[0];Object(o.useEffect)((function(){null!==v&&null===n&&p(v),null===v&&null===n&&b()}),[v]),Object(o.useEffect)((function(){E()}),[a,r]),Object(o.useEffect)((function(){f()}),[]);var E=function(){var e={pieceTheme:"".concat("/Chess-Game","/img/chesspieces/").concat(r,"/{piece}.png"),position:"start"},n=s()("board",e),t=w(".chessboard-63f37"),o=w(".square-55d63");"wooden"===a?(t.addClass("woodenBoard"),o.addClass("transparent")):"classic"===a&&(t.removeClass("woodenBoard"),o.removeClass("transparent")),w(window).resize(n.resize)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page__wrapper"},c.a.createElement(y.a,{userName:null===n||void 0===n?void 0:n.userName,points:null===n||void 0===n?void 0:n.points}),c.a.createElement(h,{board:a,piece:r,mode:i,changeBoard:u,changePiece:m,changeMode:d})))}))},69:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:28,n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<e;t+=1)n+=a.charAt(Math.floor(Math.random()*a.length));return n}},70:function(e,n,a){"use strict";a.d(n,"d",(function(){return o})),a.d(n,"a",(function(){return r})),a.d(n,"c",(function(){return i})),a.d(n,"e",(function(){return s})),a.d(n,"b",(function(){return l})),a.d(n,"f",(function(){return u}));var t=window.jQuery;function o(){t("#board .square-55d63").removeClass("square")}function c(e){t("#board .square-".concat(e)).addClass("square")}function r(e,n){return!("w"===e&&-1!==n.search(/^b/))||"b"===e&&-1!==n.search(/^w/)}function i(e,n){var a=e.moves({square:n,verbose:!0});if(0!==a.length)for(var t=0;t<a.length;t+=1)c(a[t].to)}function s(e,n,a,t,o,c,r,i,s){var l="b"===e?"Black":"White";return s?"Draw by stalemate":r?"Draw by repetition":i?"Draw by insufficient material":t?"Draw position":c?"".concat(l," in checkmate, gameover"):o?"".concat(l," in check"):n>0?a?"Your Turn":"Opponent's move":"View Only"}function l(e,n){return 1===e&&"w"===n||2===e&&"b"===n}function u(e,n,a){if(1===e){if(0===n.blackTime||"b"===a)return"You won";if(0===n.whiteTime||"w"===a)return"You lost"}if(2===e){if(0===n.whiteTime||"w"===a)return"You won";if(0===n.blackTime||"b"===a)return"You lost"}}},71:function(e,n,a){"use strict";a.d(n,"b",(function(){return o})),a.d(n,"a",(function(){return c})),a.d(n,"c",(function(){return r}));var t=a(16);function o(e,n){var a=n.p1_token,t=n.p2_token;return e===a?1:e===t?2:0}var c=function(){return window.location?"".concat(window.location.origin).concat(window.location.pathname,"#"):window.location};function r(e,n){var a=e.id,o=t.c.collection("games").doc(a);"w"===n.turn()?o.update({"timeLeft.whiteTime":t.b.firestore.FieldValue.increment(-1)}):o.update({"timeLeft.blackTime":t.b.firestore.FieldValue.increment(-1)})}},72:function(e,n,a){"use strict";a.d(n,"a",(function(){return o})),a.d(n,"c",(function(){return c})),a.d(n,"b",(function(){return r})),a.d(n,"e",(function(){return i})),a.d(n,"f",(function(){return s})),a.d(n,"d",(function(){return l}));var t=a(10);function o(e){return{type:t.a.CHANGE_BOARD,board:e}}function c(e){return{type:t.a.CHANGE_PIECE,piece:e}}function r(e){return{type:t.a.CHANGE_MODE,mode:e}}function i(e){return{type:t.a.UPDATE_MOVES,move:e}}function s(e){return{type:t.a.STATUS_TEXT,statusText:e}}function l(){return{type:t.a.DEFAULT_BOARD_SETTINGS}}},73:function(e,n,a){"use strict";var t=a(1),o=a.n(t),c=a(19),r=a.n(c),i=a(71),s=a(70),l=a(75),u=a.n(l),m=a(76),d=a.n(m),f=a(77),p=a.n(f),_=a(78),b=a.n(_),g=a(79),v=a.n(g),h=a(80),E=a.n(h),y=a(81),k=a.n(y),w=a(82),N=a.n(w),B=[{src:d.a,id:1,type:"audio/webm"},{src:p.a,id:2,type:"ogg"},{src:u.a,id:3,type:"mpeg"},{src:b.a,id:4,type:"wav"}],T=[{src:E.a,id:1,type:"audio/webm"},{src:k.a,id:2,type:"ogg"},{src:v.a,id:3,type:"mpeg"},{src:N.a,id:4,type:"wav"}],O=(a(83),function(e){var n=e.moveSongRef,a=e.checkSongRef,t=e.token,c=e.links,r=e.adress,i=e.userName,s=e.points,l=e.whiteTime,u=e.blackTime,m=e.playerNum,d=e.removeLink,f=e.isGameEnded,p=e.onBackToHome;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"game"},f&&o.a.createElement("button",{type:"button",className:"backToHome",onClick:p},"Back to Home"),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},t||2===m?"Friend":"Guest 120"),o.a.createElement("span",{className:"points"},"(500)")),o.a.createElement("div",{className:"timer"},1===m?u:2===m?l:"5: 00")),o.a.createElement("div",{id:"board",className:"board"}),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},null!==i&&void 0!==i?i:"Guest 152"),o.a.createElement("span",{className:"points"},"(".concat(null!==s&&void 0!==s?s:500,")"))),o.a.createElement("div",{className:"timer"},1===m?l:2===m?u:"5: 00")),!0===c&&o.a.createElement("div",{className:"links"},o.a.createElement("h3",{className:"links__header"},"Second player Link"),o.a.createElement("div",{className:"links__link"},o.a.createElement("a",{target:"_blank",rel:"noreferrer",href:r.secondPlayer},r.secondPlayer)),o.a.createElement("div",{className:"closeButton",role:"button",tabIndex:0,onClick:d},"X"))),o.a.createElement("audio",{ref:n},B.map((function(e){return o.a.createElement("source",{src:e.src,key:e.id,type:e.type})}))),o.a.createElement("audio",{ref:a},T.map((function(e){return o.a.createElement("source",{src:e.src,key:e.id,type:e.type})}))))}),C=window.jQuery;O.propTypes={moveSongRef:r.a.oneOfType([r.a.func,r.a.shape({current:r.a.instanceOf(Element)})]),checkSongRef:r.a.oneOfType([r.a.func,r.a.shape({current:r.a.instanceOf(Element)})]),links:r.a.bool,userName:r.a.string,points:r.a.number,token:r.a.string,playerNum:r.a.number,isGameEnded:r.a.bool,p1_token:r.a.string,p2_token:r.a.string,timeLeft:r.a.shape({whiteTime:r.a.number,blackTime:r.a.number,isGameActive:r.a.bool}),changeSite:r.a.func,updateLocalStorage:r.a.func,turn:r.a.string};n.a=function(e){var n=e.moveSongRef,a=e.checkSongRef,c=e.p1_token,r=e.p2_token,l=e.links,u=e.userName,m=e.points,d=e.token,f=e.timeLeft,p=e.playerNum,_=e.isGameEnded,b=e.changeSite,g=e.updateLocalStorage,v=e.turn;Object(t.useEffect)((function(){var e,n,a=localStorage.getItem("user"),t=Object(s.f)(p,f,v);null!==a&&(a=JSON.parse(a),_&&a&&g("You won"===t?(null===(e=a)||void 0===e?void 0:e.points)+8:(null===(n=a)||void 0===n?void 0:n.points)-8))}),[_]);var h={firstPlayer:"".concat(Object(i.a)(),"/play/online/").concat(c),secondPlayer:"".concat(Object(i.a)(),"/play/online/").concat(r)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,n=Math.floor(e/60),a=Math.floor(e-60*n);return"".concat(n,": ").concat(a<10?"0".concat(a):a)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(O,{whiteTime:E(null===f||void 0===f?void 0:f.whiteTime),blackTime:E(null===f||void 0===f?void 0:f.blackTime),playerNum:p,adress:h,removeLink:function(){C(".links").css("display","none")},moveSongRef:n,checkSongRef:a,links:l,userName:u,points:m,isGameEnded:_,onBackToHome:function(){b("/")},token:d}))}},75:function(e,n,a){e.exports=a.p+"static/media/game.7edb4c26.mp3"},76:function(e,n,a){e.exports=a.p+"static/media/game.d6fc5bd9.webm"},77:function(e,n,a){e.exports=a.p+"static/media/game.e3734f3d.ogg"},78:function(e,n,a){e.exports=a.p+"static/media/game.a9b707cc.wav"},79:function(e,n,a){e.exports=a.p+"static/media/check.74550551.mp3"},80:function(e,n,a){e.exports=a.p+"static/media/check.4357e894.webm"},81:function(e,n,a){e.exports=a.p+"static/media/check.2f14f7b7.ogg"},82:function(e,n,a){e.exports=a.p+"static/media/check.8c1d94cd.wav"},83:function(e,n,a){},86:function(e,n,a){"use strict";function t(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},c=Object.keys(e);for(t=0;t<c.length;t++)a=c[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)a=c[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}a.d(n,"a",(function(){return t}))}}]);
//# sourceMappingURL=6.cef4e550.chunk.js.map