{"version":3,"sources":["containers/LozzaGame/index.js"],"names":["engine","window","jQuery","Game","game","Chess","board","LozzaGame","console","log","useEffect","makeEngineMove","move","aiMove","fen","from","Object","keys","toLocaleLowerCase","to","values","position","config","pieceTheme","process","draggable","onDrop","source","target","promotion","Move","setTimeout","onSnapEnd","Chessboard","className","id","style","width"],"mappings":"yGAAA,6DAeMA,GAHIC,OAAOC,OAGF,IAAIC,OADC,6DAEdC,EAAO,IAAIC,IAEbC,EAAQ,KAsDGC,UApDG,WA2ChB,OA1CAC,QAAQC,IAAIT,GACZU,qBAAU,WACR,SAASC,IACP,IAAMC,EAAOC,iBAAOT,EAAKU,MAAM,GACzBC,EAAOC,OAAOC,KAAKL,GAAM,GAAGM,oBAC5BC,EAAKH,OAAOI,OAAOR,GAAM,GAAGM,oBAClCd,EAAKQ,KAAK,CACRG,OACAI,OAEFb,EAAMe,SAASjB,EAAKU,OAsBtB,IAAMQ,EAAS,CACbC,WAAW,GAAD,OAAKC,cAAL,yCACVC,WAAW,EACXJ,SAAU,QACVK,OAvBF,SAAgBC,EAAQC,GACtB,IAAMd,EAAMV,EAAKU,MAMjB,GAAa,OALAV,EAAKQ,KAAK,CACrBG,KAAMY,EACNR,GAAIS,EACJC,UAAW,MAGX,MAAO,WAETC,eAAKhB,EAAKa,EAAQC,GAElB3B,OAAO8B,WAAWpB,EAAgB,OAYlCqB,UATF,WACE1B,EAAMe,SAASjB,EAAKU,SAWtBR,EAAQ2B,YAAW,QAASX,KAC3B,IAED,oCACE,yBAAKY,UAAU,iBACb,yBAAKC,GAAG,QAAQC,MAAO,CAAEC,MAAO","file":"static/js/13.ba07a9c6.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport Chess from 'chess.js/chess';\nimport Chessboard from '@chrisoakman/chessboardjs/dist/chessboard-1.0.0';\nimport {\n  Game,\n  move as Move,\n  status,\n  moves,\n  aiMove,\n  getFen,\n} from 'js-chess-engine';\n\nconst $ = window.jQuery;\n\nconst INITIAL_FEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1';\nconst engine = new Game(INITIAL_FEN);\nconst game = new Chess();\n\nlet board = null;\n\nconst LozzaGame = () => {\n  console.log(engine);\n  useEffect(() => {\n    function makeEngineMove() {\n      const move = aiMove(game.fen(),2);\n      const from = Object.keys(move)[0].toLocaleLowerCase();\n      const to = Object.values(move)[0].toLocaleLowerCase();\n      game.move({\n        from,\n        to,\n      });\n      board.position(game.fen());\n    }\n\n    function onDrop(source, target) {\n      const fen = game.fen();\n      const move = game.move({\n        from: source,\n        to: target,\n        promotion: 'q',\n      });\n      if (move === null) {\n        return 'snapback';\n      }\n      Move(fen, source, target);\n\n      window.setTimeout(makeEngineMove, 1200);\n    }\n\n    function onSnapEnd() {\n      board.position(game.fen());\n    }\n\n    const config = {\n      pieceTheme: `${process.env.PUBLIC_URL}/img/chesspieces/neo_wood/{piece}.png`,\n      draggable: true,\n      position: 'start',\n      onDrop,\n      onSnapEnd,\n    };\n\n    board = Chessboard('board', config);\n  }, []);\n  return (\n    <>\n      <div className=\"page__wrapper\">\n        <div id=\"board\" style={{ width: 400 }} />\n      </div>\n    </>\n  );\n};\n\nexport default LozzaGame;\n"],"sourceRoot":""}