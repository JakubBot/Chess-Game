(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{67:function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:28,n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<e;t+=1)n+=a.charAt(Math.floor(Math.random()*a.length));return n}},68:function(e,n,a){"use strict";a.d(n,"d",(function(){return o})),a.d(n,"a",(function(){return r})),a.d(n,"c",(function(){return i})),a.d(n,"e",(function(){return s})),a.d(n,"b",(function(){return l})),a.d(n,"f",(function(){return u}));var t=window.jQuery;function o(){t("#board .square-55d63").removeClass("square")}function c(e){t("#board .square-".concat(e)).addClass("square")}function r(e,n){return!("w"===e&&-1!==n.search(/^b/))||"b"===e&&-1!==n.search(/^w/)}function i(e,n){var a=e.moves({square:n,verbose:!0});if(0!==a.length)for(var t=0;t<a.length;t+=1)c(a[t].to)}function s(e,n,a,t,o,c,r,i,s){var l="b"===e?"Black":"White";return s?"Draw by stalemate":r?"Draw by repetition":i?"Draw by insufficient material":t?"Draw position":c?"".concat(l," in checkmate, gameover"):o?"".concat(l," in check"):n>0?a?"Your Turn":"Opponent's move":"View Only"}function l(e,n){return 1===e&&"w"===n||2===e&&"b"===n}function u(e,n,a){if(1===e){if(0===n.blackTime||"b"===a)return"You won";if(0===n.whiteTime||"w"===a)return"You lost"}if(2===e){if(0===n.whiteTime||"w"===a)return"You won";if(0===n.blackTime||"b"===a)return"You lost"}}},69:function(e,n,a){"use strict";a.d(n,"b",(function(){return o})),a.d(n,"a",(function(){return c})),a.d(n,"c",(function(){return r}));var t=a(15);function o(e,n){var a=n.p1_token,t=n.p2_token;return e===a?1:e===t?2:0}var c=function(){return window.location?"".concat(window.location.origin).concat("/Chess-Game"):window.location};function r(e,n){var a=e.id,o=t.c.collection("games").doc(a);"w"===n.turn()?o.update({"timeLeft.whiteTime":t.b.firestore.FieldValue.increment(-1)}):o.update({"timeLeft.blackTime":t.b.firestore.FieldValue.increment(-1)})}},70:function(e,n,a){"use strict";a.d(n,"a",(function(){return o})),a.d(n,"c",(function(){return c})),a.d(n,"b",(function(){return r})),a.d(n,"e",(function(){return i})),a.d(n,"f",(function(){return s})),a.d(n,"d",(function(){return l}));var t=a(10);function o(e){return{type:t.a.CHANGE_BOARD,board:e}}function c(e){return{type:t.a.CHANGE_PIECE,piece:e}}function r(e){return{type:t.a.CHANGE_MODE,mode:e}}function i(e){return{type:t.a.UPDATE_MOVES,move:e}}function s(e){return{type:t.a.STATUS_TEXT,statusText:e}}function l(){return{type:t.a.DEFAULT_BOARD_SETTINGS}}},71:function(e,n,a){"use strict";var t=a(1),o=a.n(t),c=a(20),r=a.n(c),i=a(69),s=a(68),l=(a(73),function(e){var n=e.songRef,a=e.token,t=e.links,c=e.adress,r=e.userName,i=e.points,s=e.whiteTime,l=e.blackTime,u=e.playerNum,m=e.removeLink,d=e.isGameEnded,f=e.onBackToHome;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"game"},d&&o.a.createElement("button",{type:"button",className:"backToHome",onClick:f},"Back to Home"),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},a||2===u?"Friend":"Guest 120"),o.a.createElement("span",{className:"points"},"(500)")),o.a.createElement("div",{className:"timer"},1===u?l:2===u?s:"5: 00")),o.a.createElement("div",{id:"board",className:"board"}),o.a.createElement("div",{className:"userInformations"},o.a.createElement("div",{className:"userWrapper"},o.a.createElement("span",{className:"playerName"},null!==r&&void 0!==r?r:"Guest 152"),o.a.createElement("span",{className:"points"},"(".concat(null!==i&&void 0!==i?i:500,")"))),o.a.createElement("div",{className:"timer"},1===u?s:2===u?l:"5: 00")),!0===t&&o.a.createElement("div",{className:"links"},o.a.createElement("h3",{className:"links__header"},"Second player Link"),o.a.createElement("div",{className:"links__link"},o.a.createElement("a",{target:"_blank",rel:"noreferrer",href:c.secondPlayer},c.secondPlayer)),o.a.createElement("div",{className:"closeButton",role:"button",tabIndex:0,onClick:m},"X"))),o.a.createElement("audio",{id:"myAudio",ref:n},o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_WEBM_/default/game-start.webm",type:"audio/webm"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_OGG_/default/game-start.ogg",type:"audio/ogg"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_MP3_/default/game-start.mp3",type:"audio/mpeg"}),o.a.createElement("source",{src:"https://images.chesscomfiles.com/chess-themes/sounds/_WAV_/default/game-start.wav",type:"audio/wav"})))}),u=window.jQuery;l.propTypes={songRef:r.a.oneOfType([r.a.func,r.a.shape({current:r.a.instanceOf(Element)})]),links:r.a.bool,userName:r.a.string,points:r.a.number,token:r.a.string,playerNum:r.a.number,isGameEnded:r.a.bool,p1_token:r.a.string,p2_token:r.a.string,timeLeft:r.a.shape({whiteTime:r.a.number,blackTime:r.a.number,isGameActive:r.a.bool}),changeSite:r.a.func,updateLocalStorage:r.a.func,turn:r.a.string};n.a=function(e){var n=e.songRef,a=e.p1_token,c=e.p2_token,r=e.links,m=e.userName,d=e.points,f=e.token,p=e.timeLeft,_=e.playerNum,b=e.isGameEnded,g=e.changeSite,v=e.updateLocalStorage,h=e.turn;Object(t.useEffect)((function(){var e,n,a=localStorage.getItem("user"),t=Object(s.f)(_,p,h);null!==a&&(a=JSON.parse(a),b&&a&&v("You won"===t?(null===(e=a)||void 0===e?void 0:e.points)+8:(null===(n=a)||void 0===n?void 0:n.points)-8))}),[b]);var E={firstPlayer:"".concat(Object(i.a)(),"/play/online/").concat(a),secondPlayer:"".concat(Object(i.a)(),"/play/online/").concat(c)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,n=Math.floor(e/60),a=Math.floor(e-60*n);return"".concat(n,": ").concat(a<10?"0".concat(a):a)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l,{whiteTime:y(null===p||void 0===p?void 0:p.whiteTime),blackTime:y(null===p||void 0===p?void 0:p.blackTime),playerNum:_,adress:E,removeLink:function(){u(".links").css("display","none")},songRef:n,links:r,userName:m,points:d,isGameEnded:b,onBackToHome:function(){g("/")},token:f}))}},73:function(e,n,a){},76:function(e,n,a){"use strict";function t(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},c=Object.keys(e);for(t=0;t<c.length;t++)a=c[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)a=c[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}a.d(n,"a",(function(){return t}))},91:function(e,n,a){},96:function(e,n,a){"use strict";a.r(n);var t=a(29),o=a(1),c=a.n(o),r=a(21),i=a(72),s=a(66),l=a(76),u=a(20),m=a.n(u),d=a(6),f=a(67),p=a(15),_=(a(91),function(e){var n=e.changeBoard,a=e.changePiece,t=e.changeMode,o=e.createGame;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"configBoard"},c.a.createElement("div",{className:"configBoard__wrapper"},c.a.createElement("div",{className:"configBoard__header flex-c"},"Play Chess"),c.a.createElement("div",{className:"configBoard__config"},c.a.createElement("div",{className:"configBoard__config__board"},c.a.createElement("div",{className:"config__header"},"Your Board"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{type:"button",name:"wooden",className:"configBoard__options__btn configBoard__options__btn--active board__btn",onClick:n},"Wooden"),c.a.createElement("button",{type:"button",name:"classic",className:"configBoard__options__btn board__btn",onClick:n},"Classic"))),c.a.createElement("div",{className:"configBoard__config__pieces"},c.a.createElement("div",{className:"config__header"},"Your Pieces"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{type:"button",name:"neo_wood",className:"configBoard__options__btn--small configBoard__options__btn--active piece__btn",onClick:a},"Neo wood"),c.a.createElement("button",{type:"button",name:"alpha",className:"configBoard__options__btn configBoard__options__btn piece__btn",onClick:a},"Alpha"),c.a.createElement("button",{name:"uscf",onClick:a,type:"button",className:"configBoard__options__btn piece__btn"},"USCF"),c.a.createElement("button",{name:"classic",onClick:a,type:"button",className:"configBoard__options__btn piece__btn"},"Classic"))),c.a.createElement("div",{className:"mode"},c.a.createElement("div",{className:"config__header"},"Mode"),c.a.createElement("div",{className:"configBoard__options"},c.a.createElement("button",{onClick:t,type:"button",className:"configBoard__options__btn--big configBoard__options__btn--active mode__btn",name:"computer"},"with computer"),c.a.createElement("button",{onClick:t,type:"button",className:"configBoard__options__btn--big mode__btn",name:"online"},"with friend"))),c.a.createElement("div",{className:"findGame flex-c"},c.a.createElement("button",{type:"button",className:"findGame__button",onClick:o},"Find game"))))))}),b=window.jQuery;_.propTypes={board:m.a.string,piece:m.a.string,mode:m.a.string,history:m.a.string,changeBoard:m.a.func.isRequired,changePiece:m.a.func.isRequired,changeMode:m.a.func.isRequired};var g=Object(d.f)((function(e){e.board,e.piece;var n=e.mode,a=e.history,t=Object(l.a)(e,["board","piece","mode","history"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{changeBoard:function(e){var n=e.target,a=n;b(".board__btn").removeClass("configBoard__options__btn--active"),b(a).addClass("configBoard__options__btn--active");var o=n.name;t.changeBoard(o)},changePiece:function(e){var n=e.target,a=n;b(".piece__btn").removeClass("configBoard__options__btn--active"),b(a).addClass("configBoard__options__btn--active"),t.changePiece(n.name)},changeMode:function(e){var n=e.target,a=n;b(".mode__btn").removeClass("configBoard__options__btn--active"),b(a).addClass("configBoard__options__btn--active"),t.changeMode(n.name)},createGame:function(){var e={p1_token:Object(f.a)(8),p2_token:Object(f.a)(8),moveIndex:1,timeLeft:{whiteTime:300,blackTime:300}};"online"===n?p.c.collection("games").add(e).then((function(){return a.push("./play/online/".concat(e.p1_token))})).catch((function(e){throw e})):"computer"===n&&a.push("./play/computer")}}))})),v=a(70),h=a(71),E=a(34),y=window.jQuery;var N={changeBoard:v.a,changePiece:v.c,changeMode:v.b,defaultBoardSettings:v.d,loginUserWithSocials:E.c,loginUserWithForm:E.b};n.default=Object(r.b)((function(e){var n=e.boardInfo,a=e.user;return{board:n.board,piece:n.piece,mode:n.mode,user:a}}),N)((function(e){var n=e.user,a=e.board,r=e.piece,l=e.mode,u=e.changeBoard,m=e.changePiece,d=e.changeMode,f=e.defaultBoardSettings,_=e.loginUserWithSocials,b=e.loginUserWithForm,v=Object(s.a)(p.a),E=Object(t.a)(v,1)[0];Object(o.useEffect)((function(){null!==E&&null===n&&_(E),null===E&&null===n&&b()}),[E]),Object(o.useEffect)((function(){N()}),[a,r]),Object(o.useEffect)((function(){f()}),[]);var N=function(){var e={pieceTheme:"".concat("/Chess-Game","/img/chesspieces/").concat(r,"/{piece}.png"),position:"start"},n=Object(i.a)("board",e),t=y(".chessboard-63f37"),o=y(".square-55d63");"wooden"===a?(t.addClass("woodenBoard"),o.addClass("transparent")):"classic"===a&&(t.removeClass("woodenBoard"),o.removeClass("transparent")),y(window).resize(n.resize)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page__wrapper"},c.a.createElement(h.a,{userName:null===n||void 0===n?void 0:n.userName,points:null===n||void 0===n?void 0:n.points}),c.a.createElement(g,{board:a,piece:r,mode:l,changeBoard:u,changePiece:m,changeMode:d})))}))}}]);
//# sourceMappingURL=6.b2ce3711.chunk.js.map